

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>8. Dataanalyse med Pandas &#8212; Databehandling og -analyse</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=ac02cc09edc035673794" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=ac02cc09edc035673794" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794" />
  <script src="_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=ac02cc09edc035673794"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'kapittel8';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="9. Visualisering med Plotly" href="kapittel9.html" />
    <link rel="prev" title="7. Vasking av data med OpenRefine" href="kapittel7.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Databehandling og -analyse med Python og OpenRefine
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Del I - Kom i gang!</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="kapittel1.html">1. Introduksjon</a></li>
<li class="toctree-l1"><a class="reference internal" href="kapittel2.html">2. Jupyter Notebooks</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Del II - Grunnleggende Python</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="kapittel3.html">3. Variabler</a></li>
<li class="toctree-l1"><a class="reference internal" href="kapittel4.html">4. Betinget programmering</a></li>
<li class="toctree-l1"><a class="reference internal" href="kapittel5.html">5. Løkker, lister, tupler, og dict’er</a></li>
<li class="toctree-l1"><a class="reference internal" href="kapittel6.html">6. Funksjoner</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Del III - Databehandling- og analyse</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="kapittel7.html">7. Vasking av data med OpenRefine</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">8. Dataanalyse med Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="kapittel9.html">9. Visualisering med Plotly</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Del IV - Innlasting og forbehandling av data</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="kapittel10.html">10. Innhenting av data</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/kapittel8.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>8. Dataanalyse med Pandas</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduksjon-til-pandas-og-dataframes">Introduksjon til Pandas og DataFrames</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grunnleggende-informasjon-om-en-dataframe">Grunnleggende informasjon om en dataframe</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datatype">Datatype</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#omfang-kompleksitet">Omfang/kompleksitet</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#kolonner-variabler">Kolonner (“variabler”)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#radene-enhetene">Radene (“enhetene”)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#utdrag-av-en-dataframe">Utdrag av en dataframe</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#utdrag-av-kolonnene">Utdrag av kolonnene</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#utdrag-av-radene-filtrering">Utdrag av radene (filtrering)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#endre-navn-pa-en-kolonne">Endre navn på en kolonne</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#eksportere-til-en-ny-csv-fil">Eksportere til en ny CSV-fil</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#flere-datatyper-i-pandas">Flere datatyper i Pandas</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#series">Series</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#index">Index</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analyse-av-kolonner-med-tall">Analyse av kolonner med tall</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analyse-av-kolonner-med-tekst">Analyse av kolonner med tekst</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#gruppering">Gruppering</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#behandling-av-kolonner-som-inneholder-flere-verdier">Behandling av kolonner som inneholder flere verdier</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="dataanalyse-med-pandas">
<h1>8. Dataanalyse med Pandas<a class="headerlink" href="#dataanalyse-med-pandas" title="Permalink to this heading">#</a></h1>
<div text-align="center">
    <table>
        <tbody>
            <tr>
                <td style="border-width: medium; border-color: black; padding: 5mm">
                    Kapitlet bruker følgende datafiler:<br/>
                    <a href="norge-rundt.csv">
                        norge-rundt.csv
                    </a><br/>
                    <a href="oda-master-thesis.csv">
                        oda-master-thesis.csv
                    </a><br/>
                </td>
            </tr>
        </tbody>    
    </table>
</div>
<br>
<br>
<p>En av de vanligste utvidelsene vi bruker når vi jobber med dataanalyse av digitalisert og digitalt datamateriale er <em>Pandas</em>. På mange måter kan det å bruke <em>Pandas</em> sammenlignes med å det å jobbe med datasett i <em>Excel</em> fordi man jobber med datasett i tabellform. <em>Pandas</em> gir deg et arsenal av funksjoner og moduler som man kan bruke og i dette kapitlet vil vi gå gjennom noen av de vanligste. Data vi bruker i dette kapitlet er produsert av NRK, og er metadata om innslag fra TV-programmet
<em>Norge rundt</em>. Filen er publisert på <em>Felles
datakatalog</em><a class="footnote-reference brackets" href="#pandas-data-norge-norge-rundt" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
<p>Siden dette kapitlet vil importere og eksportere filer er det viktig å nevne noe som er selvsagt men som aldri kan bli sagt ofte nok: Det er viktig å gi filene beskrivende navn. Da er det enklere å forstå innholdet i filen uten å måtte åpne den.</p>
<section id="introduksjon-til-pandas-og-dataframes">
<h2>Introduksjon til Pandas og DataFrames<a class="headerlink" href="#introduksjon-til-pandas-og-dataframes" title="Permalink to this heading">#</a></h2>
<p><em>Pandas</em> er et funksjonsbibliotek (“library”) for å behandle vilkårlig kompliserte tabelldata. <em>Pandas</em> tilbyr verktøy for å:</p>
<ul class="simple">
<li><p>lese inn data fra filer i utallige formater</p></li>
<li><p>analysere og visualisere dataene med hjelp av <em>Python</em></p></li>
<li><p>trekke ut relevante deler fra disse dataene</p></li>
<li><p>eksportere data til utallige filformater.</p></li>
</ul>
<p>For å kunne bruke <em>Pandas</em> i <em>Python</em> og <em>Jupyter Notebooks</em> må vi først importere den.
<code class="docutils literal notranslate"><span class="pre">as</span> <span class="pre">pd</span></code> gir oss en <strong>snarvei</strong>, dvs. at funksjoner, metoder og attributer kan hentes fra <em>Pandas</em> ved å skrive
<code class="docutils literal notranslate"><span class="pre">pd</span></code> istedenfor <code class="docutils literal notranslate"><span class="pre">pandas</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
<p>Hoveddatastrukturen i Pandas er en <strong>dataframe</strong>. Dette er en tabellstruktur med rader, kolonner og celler. Data kan leses inn i en <em>Pandas</em>-dataframe fra mange ulike datakilder. En typisk fremgangsmåte er å hente inn data fra en CSV-fil ved å skrive <code class="docutils literal notranslate"><span class="pre">read_csv()</span></code>- funksjonen inn i en nyopprettet dataframe (<code class="docutils literal notranslate"><span class="pre">df</span> <span class="pre">=</span> </code>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/norge-rundt.csv&#39;</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s1">&#39;;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">pd.read_csv()</span></code> innebærer at vi bruker <em>Pandas</em>-funksjonen <code class="docutils literal notranslate"><span class="pre">read_csv()</span></code> for å lese inn en csv-fil.
Tilsvarende funksjoner finnes også for å lese andre filfornater.  Funksjonen har mange parametre.
Den første parameteren er <strong>adressen</strong>, eller <em>stien</em> til CSV-filen. En annen mye brukt parameter er
<code class="docutils literal notranslate"><span class="pre">sep</span></code>, som spesifiserer hvilket skilletegn som brukes i CSV-filen. Standardverdien, som brukes hvis
<code class="docutils literal notranslate"><span class="pre">sep</span></code> utelates, er komma. I eksemplet her brukes <code class="docutils literal notranslate"><span class="pre">;</span></code> som skilletegn.</p>
<p>⚠️ <strong>Merk!</strong>  Å lese inn en fil betyr at inneholdet i filen trekkes ut. Selve filen forblir det samme uansett hva du gjør i <em>Jupyter Notebooks</em>. For å eksportere det du har gjort til en ny fil må du ta i bruk en annen funksjon som vi kommer tilbake til senere i dette kapitlet når det blir aktuelt.</p>
<p>Du kan laste ned CSV-filen øverst i dette kapitlet. Men hvor du lagrer den er avhengig av hvilken adresse du oppgir i adresse-paramteret <code class="docutils literal notranslate"><span class="pre">.read_csv()</span></code>
Hvis filen finnes i samme mappe som
notebook’en, trenger vi kun skrive filnavnet. Det vil si at det er lettest for deg å ha både notebook og filer du henter inn data fra i samme mappe.</p>
<p>✍️ <strong>Oppgave:</strong> Last ned CSV-filen og lagre den i samme mappe som du har dine notebook’er i. Importer Pandas slik det er vist i cellene over i din egen notebook, og les inn CSV-filen.</p>
<section id="grunnleggende-informasjon-om-en-dataframe">
<h3>Grunnleggende informasjon om en dataframe<a class="headerlink" href="#grunnleggende-informasjon-om-en-dataframe" title="Permalink to this heading">#</a></h3>
<p>Data som er hentet inn fra CSV-filen med metoden <code class="docutils literal notranslate"><span class="pre">read_csv()</span></code> er lagt inn i en variabel med navn
<code class="docutils literal notranslate"><span class="pre">df</span></code>. Bruk av variabelnavnet <code class="docutils literal notranslate"><span class="pre">df</span></code> er en <strong>konvensjon</strong> når man henviser til en Pandas Dataframe.
Teknisk sett kan man bruke hvilket lovlig variabelnavn som helst (<code class="docutils literal notranslate"><span class="pre">a</span></code>, <code class="docutils literal notranslate"><span class="pre">b</span></code>, <code class="docutils literal notranslate"><span class="pre">jens</span></code>, osv.).<br />
Har man flere variabler av typen “Dataframe” i programmet, må man så klart ha forskjellige navn.
<code class="docutils literal notranslate"><span class="pre">df1</span></code>, <code class="docutils literal notranslate"><span class="pre">df2</span></code> osv. kan brukes, men også andre navn som går på rollen kan brukes.
Hvis vi har en dataframe med tittelinformasjon og en annen om fofatterinformasjon,
vil kanskje hhv. <code class="docutils literal notranslate"><span class="pre">df_titler</span></code> og <code class="docutils literal notranslate"><span class="pre">df_forfattere</span></code> funke.</p>
</section>
<section id="datatype">
<h3>Datatype<a class="headerlink" href="#datatype" title="Permalink to this heading">#</a></h3>
<p>Som vi har vist til i kapittel <a class="reference internal" href="kapittel5.html"><span class="doc std std-doc">Variabler</span></a>, har alle Python-variabler en <strong>datatype</strong>.
Datatyper kan være enkle: en tekststreng (<code class="docutils literal notranslate"><span class="pre">str</span></code>), et heltall (<code class="docutils literal notranslate"><span class="pre">int</span></code>) eller et flyttall (<code class="docutils literal notranslate"><span class="pre">float</span></code>). Datatyper kan også være
flerverdivariabler slik som <code class="docutils literal notranslate"><span class="pre">list</span></code> og <code class="docutils literal notranslate"><span class="pre">tuple</span></code>, eller mer kompliserte, slik som
et xml-tre,  <code class="docutils literal notranslate"><span class="pre">lxml.etree</span></code> (<code class="docutils literal notranslate"><span class="pre">etree</span></code> tilgjengelig fra pakken <code class="docutils literal notranslate"><span class="pre">lxml</span></code>).</p>
<p>Bruk av pythons
<code class="docutils literal notranslate"><span class="pre">type()</span></code>-funksjon på variabelen <code class="docutils literal notranslate"><span class="pre">df</span></code> avlører at den er av typen <code class="docutils literal notranslate"><span class="pre">pandas.core.frame.DataFrame</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="nb">type</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>pandas.core.frame.DataFrame
</pre></div>
</div>
</div>
</div>
</section>
<section id="omfang-kompleksitet">
<h3>Omfang/kompleksitet<a class="headerlink" href="#omfang-kompleksitet" title="Permalink to this heading">#</a></h3>
<p><strong>Omfanget</strong> og kompleksiteten til dataene i dataframen uttrykkes ved hvor mange rader og kolonner
som finnes i dataframe’n. <code class="docutils literal notranslate"><span class="pre">.shape</span></code>-attributtet til en dataframe kan brukes for å finne
dette. Dataframe om Norge Rundt-innslag består av 10219 rader og 32 kolonner.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(10219, 32)
</pre></div>
</div>
</div>
</div>
<p>Vi kan også få et overblikk over datasettet som en dataframe:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>aar</th>
      <th>video_url</th>
      <th>kommune</th>
      <th>tittel</th>
      <th>tema</th>
      <th>hva_er_spesielt</th>
      <th>folelse</th>
      <th>antrekk</th>
      <th>type_bygg_og_industri</th>
      <th>type_historisk</th>
      <th>...</th>
      <th>tema_kjop_og_salg</th>
      <th>type_landbruk_og_fiske</th>
      <th>offentlige_tjenester_og_veldedighet</th>
      <th>hovedperson1_kjonn</th>
      <th>hovedperson2_kjonn</th>
      <th>hovedperson3_kjonn</th>
      <th>hovedperson1_alder</th>
      <th>hovedperson2_alder</th>
      <th>hovedperson3_alder</th>
      <th>tema_politikk_og_media</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1976</td>
      <td>https://tv.nrk.no/serie/norge-rundt/FREP450046...</td>
      <td>Bergen</td>
      <td>Rypejakt</td>
      <td>Natur og friluftsliv</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Caps</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Mann</td>
      <td>Mann</td>
      <td>NaN</td>
      <td>10 til 15</td>
      <td>40 til 50</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1976</td>
      <td>https://tv.nrk.no/serie/norge-rundt/FREP450046...</td>
      <td>Sirdal</td>
      <td>Kraftutbygging</td>
      <td>Bygg og industri</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Hjelm</td>
      <td>Anlegg, Kraftproduksjon</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Mann</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>40 til 50</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1976</td>
      <td>https://tv.nrk.no/serie/norge-rundt/FREP450046...</td>
      <td>Øksnes</td>
      <td>Fraflyttingstilskudd</td>
      <td>Politikk</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Caps, Slips</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Distriktspolitikk, Samferdselspolitikk</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1976</td>
      <td>https://tv.nrk.no/serie/norge-rundt/FREP450046...</td>
      <td>Orkdal</td>
      <td>Trønderlån</td>
      <td>Kunst og Håndverk</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Kvinne</td>
      <td>Kvinne</td>
      <td>NaN</td>
      <td>40 til 50</td>
      <td>40 til 50</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1976</td>
      <td>https://tv.nrk.no/serie/norge-rundt/FREP450046...</td>
      <td>Finnøy</td>
      <td>Dyrking av tomater</td>
      <td>Landbruk og fiske</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>Grønnsaker og urter, Tomat</td>
      <td>NaN</td>
      <td>Mann</td>
      <td>Mann</td>
      <td>NaN</td>
      <td>30 til 40</td>
      <td>40 til 50</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>10214</th>
      <td>2016</td>
      <td>https://tv.nrk.no/serie/norge-rundt/DVNR040025...</td>
      <td>Sund</td>
      <td>Campingliv (mellomstikk)</td>
      <td>Natur og friluftsliv</td>
      <td>Livsstil</td>
      <td>Ler</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Mann</td>
      <td>Kvinne</td>
      <td>Mann</td>
      <td>50 til 60</td>
      <td>60 til 70</td>
      <td>50 til 60</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>10215</th>
      <td>2016</td>
      <td>https://tv.nrk.no/serie/norge-rundt/DVNR040025...</td>
      <td>Porsgrunn</td>
      <td>Louie the Skipper</td>
      <td>Natur og friluftsliv</td>
      <td>Sære vaner</td>
      <td>Ler</td>
      <td>Caps</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Mann</td>
      <td>Kvinne</td>
      <td>Kvinne</td>
      <td>20 til 30</td>
      <td>30 til 40</td>
      <td>40 til 50</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>10216</th>
      <td>2016</td>
      <td>https://tv.nrk.no/serie/norge-rundt/DVNR040025...</td>
      <td>Lyngdal</td>
      <td>Paulsens hotell</td>
      <td>Ukategoriserbart</td>
      <td>Personlighet</td>
      <td>NaN</td>
      <td>Hatt</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Mann</td>
      <td>Mann</td>
      <td>Mann</td>
      <td>40 til 50</td>
      <td>40 til 50</td>
      <td>60 til 70</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>10217</th>
      <td>2016</td>
      <td>https://tv.nrk.no/serie/norge-rundt/DVNR040025...</td>
      <td>Stjørdal</td>
      <td>Dugnadsgjengen Stjørdal museum Værnes</td>
      <td>Offentlige tjenester og veldedighet</td>
      <td>Livsvisdom</td>
      <td>Elsker</td>
      <td>Caps, Kjeledress</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Dugnad</td>
      <td>Mann</td>
      <td>Mann</td>
      <td>Kvinne</td>
      <td>60 til 70</td>
      <td>70 til 80</td>
      <td>60 til 70</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>10218</th>
      <td>2016</td>
      <td>https://tv.nrk.no/serie/norge-rundt/DVNR040025...</td>
      <td>Hå</td>
      <td>Gitarmuseum</td>
      <td>Kunst og Håndverk</td>
      <td>Livsstil</td>
      <td>Wow</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Mann</td>
      <td>Mann</td>
      <td>NaN</td>
      <td>50 til 60</td>
      <td>30 til 40</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>10219 rows × 32 columns</p>
</div></div></div>
</div>
<p>Her ser vi at det har både kolonner og rader. Og vi ser også at de cellene som ikke har en verdi er merket med “NaN”.</p>
</section>
<section id="kolonner-variabler">
<h3>Kolonner (“variabler”)<a class="headerlink" href="#kolonner-variabler" title="Permalink to this heading">#</a></h3>
<p>Enten datasettet handler om salgstall eller instagram-poster blir radene som regel
“enheter” (individer, steder, varer), og kolonnene <strong>variabler</strong> (pris, lønn, temperatur, osv.).</p>
<p>Hver kolonne i en dataframe har en datatype. Metoden <code class="docutils literal notranslate"><span class="pre">.info()</span></code> kan brukes for å vise informasjon om kolonnene i en dataframe. <em>Dtype</em> viser datatypen av kolonnen.</p>
<ul class="simple">
<li><p><em>object</em> tilsvarer <em>str</em> i Python, dvs. tekststrenger</p></li>
<li><p><em>int64</em> tilsvarer <em>int</em>, dvs. heltall</p></li>
<li><p><em>float64</em> tilsvarer <em>float</em>, dvs. desimaltall.</p></li>
</ul>
<p>Metoden viser også hvor mange av radene i kolonnen som har en verdi.
F.eks. alle 10 219 rader i <em>aar</em>-kolonnen har en verdi (ikke er tomme),
mens kun 4 882 rader i <em>hva_er_spesielt</em>-kolonnen har en verdi.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 10219 entries, 0 to 10218
Data columns (total 32 columns):
 #   Column                                  Non-Null Count  Dtype  
---  ------                                  --------------  -----  
 0   aar                                     10219 non-null  int64  
 1   video_url                               10219 non-null  object 
 2   kommune                                 10219 non-null  object 
 3   tittel                                  10219 non-null  object 
 4   tema                                    10219 non-null  object 
 5   hva_er_spesielt                         4882 non-null   object 
 6   folelse                                 2580 non-null   object 
 7   antrekk                                 5722 non-null   object 
 8   type_bygg_og_industri                   279 non-null    object 
 9   type_historisk                          510 non-null    object 
 10  type_natur_og_idrett                    0 non-null      float64
 11  type_kunst_og_haandverk                 1794 non-null   object 
 12  type_idrett_og_fysisk_aktivitet         614 non-null    object 
 13  tema_samlere_entusiaster_og_oppfinnere  634 non-null    object 
 14  tema_vitenskap                          0 non-null      float64
 15  relasjoner                              745 non-null    object 
 16  type_musikere                           576 non-null    object 
 17  type_mat                                325 non-null    object 
 18  type_dyr                                818 non-null    object 
 19  antall_menn                             9013 non-null   float64
 20  antall_kvinner                          6898 non-null   float64
 21  tema_natur_og_friluftsliv               1109 non-null   object 
 22  tema_kjop_og_salg                       231 non-null    object 
 23  type_landbruk_og_fiske                  420 non-null    object 
 24  offentlige_tjenester_og_veldedighet     881 non-null    object 
 25  hovedperson1_kjonn                      9371 non-null   object 
 26  hovedperson2_kjonn                      5774 non-null   object 
 27  hovedperson3_kjonn                      3004 non-null   object 
 28  hovedperson1_alder                      9368 non-null   object 
 29  hovedperson2_alder                      5758 non-null   object 
 30  hovedperson3_alder                      2998 non-null   object 
 31  tema_politikk_og_media                  145 non-null    object 
dtypes: float64(4), int64(1), object(27)
memory usage: 2.5+ MB
</pre></div>
</div>
</div>
</div>
<p>Vi bruker videre <em>columns</em>-attributtet for å liste kolonnenavnene (om de ikke har navn, blir det automatisk genererte ordenstall). <a class="reference internal" href="#my-label"><span class="std std-ref">Se også bruken av disse som overskrifter</span></a>.</p>
<div class="cell docutils container" id="pandas-column-index">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;aar&#39;, &#39;video_url&#39;, &#39;kommune&#39;, &#39;tittel&#39;, &#39;tema&#39;, &#39;hva_er_spesielt&#39;,
       &#39;folelse&#39;, &#39;antrekk&#39;, &#39;type_bygg_og_industri&#39;, &#39;type_historisk&#39;,
       &#39;type_natur_og_idrett&#39;, &#39;type_kunst_og_haandverk&#39;,
       &#39;type_idrett_og_fysisk_aktivitet&#39;,
       &#39;tema_samlere_entusiaster_og_oppfinnere&#39;, &#39;tema_vitenskap&#39;,
       &#39;relasjoner&#39;, &#39;type_musikere&#39;, &#39;type_mat&#39;, &#39;type_dyr&#39;, &#39;antall_menn&#39;,
       &#39;antall_kvinner&#39;, &#39;tema_natur_og_friluftsliv&#39;, &#39;tema_kjop_og_salg&#39;,
       &#39;type_landbruk_og_fiske&#39;, &#39;offentlige_tjenester_og_veldedighet&#39;,
       &#39;hovedperson1_kjonn&#39;, &#39;hovedperson2_kjonn&#39;, &#39;hovedperson3_kjonn&#39;,
       &#39;hovedperson1_alder&#39;, &#39;hovedperson2_alder&#39;, &#39;hovedperson3_alder&#39;,
       &#39;tema_politikk_og_media&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<p>Her ser vi at det som har plass (indeks) i kolonnene blir oppgitt som en <strong>liste</strong>, som til sist inneholder <code class="docutils literal notranslate"><span class="pre">dtype='object'</span></code> som forteller at datatypen er et objekt, altså en tekststreng.</p>
</section>
<section id="radene-enhetene">
<h3>Radene (“enhetene”)<a class="headerlink" href="#radene-enhetene" title="Permalink to this heading">#</a></h3>
<p>Når vi printer en hel dataframe, vil
Python stort sett automatisk vise oss noen av de første og noen av de siste radene. De første radene
i en dataframe kan også vises ved bruk av <code class="docutils literal notranslate"><span class="pre">.head()</span></code>-metoden.  Tilsvarende vises de siste radene med
<code class="docutils literal notranslate"><span class="pre">.tail()</span></code>-metoden. Metodene <code class="docutils literal notranslate"><span class="pre">.head()</span></code> og <code class="docutils literal notranslate"><span class="pre">.tail()</span></code> har <em>heltall</em> som parametertype. F.eks.
<code class="docutils literal notranslate"><span class="pre">.head(10)</span></code> viser de første ti radene. Standardverdien her (hvis man ikke oppgir antall) er fem.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>aar</th>
      <th>video_url</th>
      <th>kommune</th>
      <th>tittel</th>
      <th>tema</th>
      <th>hva_er_spesielt</th>
      <th>folelse</th>
      <th>antrekk</th>
      <th>type_bygg_og_industri</th>
      <th>type_historisk</th>
      <th>...</th>
      <th>tema_kjop_og_salg</th>
      <th>type_landbruk_og_fiske</th>
      <th>offentlige_tjenester_og_veldedighet</th>
      <th>hovedperson1_kjonn</th>
      <th>hovedperson2_kjonn</th>
      <th>hovedperson3_kjonn</th>
      <th>hovedperson1_alder</th>
      <th>hovedperson2_alder</th>
      <th>hovedperson3_alder</th>
      <th>tema_politikk_og_media</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1976</td>
      <td>https://tv.nrk.no/serie/norge-rundt/FREP450046...</td>
      <td>Bergen</td>
      <td>Rypejakt</td>
      <td>Natur og friluftsliv</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Caps</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Mann</td>
      <td>Mann</td>
      <td>NaN</td>
      <td>10 til 15</td>
      <td>40 til 50</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1976</td>
      <td>https://tv.nrk.no/serie/norge-rundt/FREP450046...</td>
      <td>Sirdal</td>
      <td>Kraftutbygging</td>
      <td>Bygg og industri</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Hjelm</td>
      <td>Anlegg, Kraftproduksjon</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Mann</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>40 til 50</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1976</td>
      <td>https://tv.nrk.no/serie/norge-rundt/FREP450046...</td>
      <td>Øksnes</td>
      <td>Fraflyttingstilskudd</td>
      <td>Politikk</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Caps, Slips</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Distriktspolitikk, Samferdselspolitikk</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1976</td>
      <td>https://tv.nrk.no/serie/norge-rundt/FREP450046...</td>
      <td>Orkdal</td>
      <td>Trønderlån</td>
      <td>Kunst og Håndverk</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Kvinne</td>
      <td>Kvinne</td>
      <td>NaN</td>
      <td>40 til 50</td>
      <td>40 til 50</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1976</td>
      <td>https://tv.nrk.no/serie/norge-rundt/FREP450046...</td>
      <td>Finnøy</td>
      <td>Dyrking av tomater</td>
      <td>Landbruk og fiske</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>Grønnsaker og urter, Tomat</td>
      <td>NaN</td>
      <td>Mann</td>
      <td>Mann</td>
      <td>NaN</td>
      <td>30 til 40</td>
      <td>40 til 50</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1976</td>
      <td>https://tv.nrk.no/serie/norge-rundt/FREP450046...</td>
      <td>Østre Toten</td>
      <td>Nydyrking</td>
      <td>Landbruk og fiske</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Caps</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>Åker og jorder og nydyrking</td>
      <td>NaN</td>
      <td>Mann</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>40 til 50</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1976</td>
      <td>https://tv.nrk.no/serie/norge-rundt/FREP450046...</td>
      <td>Stranda</td>
      <td>Etter turistsesongen</td>
      <td>Natur og friluftsliv</td>
      <td>Spesiell latter</td>
      <td>NaN</td>
      <td>Caps, Hjelm</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Mann</td>
      <td>Mann</td>
      <td>NaN</td>
      <td>30 til 40</td>
      <td>80 til 90</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>7</th>
      <td>1976</td>
      <td>https://tv.nrk.no/serie/norge-rundt/FREP450046...</td>
      <td>Bergen</td>
      <td>Bomullsveveri</td>
      <td>Bygg og industri</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Caps, Slips</td>
      <td>Tekstilproduksjon</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Mann</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>40 til 50</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1976</td>
      <td>https://tv.nrk.no/serie/norge-rundt/FREP450046...</td>
      <td>Øvre Eiker</td>
      <td>Elgjakt</td>
      <td>Natur og friluftsliv</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Caps</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Kvinne</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>40 til 50</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9</th>
      <td>1976</td>
      <td>https://tv.nrk.no/serie/norge-rundt/FREP450047...</td>
      <td>Bodø</td>
      <td>Havørner</td>
      <td>Dyr</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Hatt</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>10 rows × 32 columns</p>
</div></div></div>
</div>
<p>✍️ <strong>Oppgave:</strong> Finn omfang, kolonner og rader i datasettet i din egen notebook, ved å kopiere inn koden i cellene over. Legg inn et tall i parantesene i <code class="docutils literal notranslate"><span class="pre">.head()</span></code></p>
</section>
</section>
<section id="utdrag-av-en-dataframe">
<h2>Utdrag av en dataframe<a class="headerlink" href="#utdrag-av-en-dataframe" title="Permalink to this heading">#</a></h2>
<section id="utdrag-av-kolonnene">
<h3>Utdrag av kolonnene<a class="headerlink" href="#utdrag-av-kolonnene" title="Permalink to this heading">#</a></h3>
<p>Noen ganger er vi kun interessert i enten å se, eller å jobbe videre med, bare noen av kolonnene
i en dataframe.<a class="footnote-reference brackets" href="#pandas-projeksjon" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> Da kan vi opprette en ny dataframe som utgjør dette utdraget.
Eksemplet under viser kun verdiene i <em>kommune</em>-kolonnen (de fem første
og de fem siste radene vises):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;kommune&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0           Bergen
1           Sirdal
2           Øksnes
3           Orkdal
4           Finnøy
           ...    
10214         Sund
10215    Porsgrunn
10216      Lyngdal
10217     Stjørdal
10218           Hå
Name: kommune, Length: 10219, dtype: object
</pre></div>
</div>
</div>
</div>
<p>Vi kan avgrense til noen av kolonnene ved å <em>liste opp</em> kolonnenavnene.
Husk at <code class="docutils literal notranslate"><span class="pre">[]</span></code> brukes for å avgrense lister i Python.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;aar&#39;</span><span class="p">,</span> <span class="s1">&#39;kommune&#39;</span><span class="p">,</span> <span class="s1">&#39;tittel&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>aar</th>
      <th>kommune</th>
      <th>tittel</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1976</td>
      <td>Bergen</td>
      <td>Rypejakt</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1976</td>
      <td>Sirdal</td>
      <td>Kraftutbygging</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1976</td>
      <td>Øksnes</td>
      <td>Fraflyttingstilskudd</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1976</td>
      <td>Orkdal</td>
      <td>Trønderlån</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1976</td>
      <td>Finnøy</td>
      <td>Dyrking av tomater</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>10214</th>
      <td>2016</td>
      <td>Sund</td>
      <td>Campingliv (mellomstikk)</td>
    </tr>
    <tr>
      <th>10215</th>
      <td>2016</td>
      <td>Porsgrunn</td>
      <td>Louie the Skipper</td>
    </tr>
    <tr>
      <th>10216</th>
      <td>2016</td>
      <td>Lyngdal</td>
      <td>Paulsens hotell</td>
    </tr>
    <tr>
      <th>10217</th>
      <td>2016</td>
      <td>Stjørdal</td>
      <td>Dugnadsgjengen Stjørdal museum Værnes</td>
    </tr>
    <tr>
      <th>10218</th>
      <td>2016</td>
      <td>Hå</td>
      <td>Gitarmuseum</td>
    </tr>
  </tbody>
</table>
<p>10219 rows × 3 columns</p>
</div></div></div>
</div>
<p>Resultatet her er en dataframe. Hvis vi vet at vi kun er interessert i å jobbe
videre med noen av kolonnene, kan vi opprette en ny dataframe, som vi legger i en ny
variabel. Den nye dataframe’n inneholder alle radene fra den opprinnelig dataframe,
men kun tre kolonner.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df_liten</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;aar&#39;</span><span class="p">,</span> <span class="s1">&#39;kommune&#39;</span><span class="p">,</span> <span class="s1">&#39;tittel&#39;</span><span class="p">]]</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="n">df_liten</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;aar&#39;, &#39;kommune&#39;, &#39;tittel&#39;], dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<p>✍️ <strong>Oppgave:</strong>  Kopier inn innholdet i cellene over i din egen notebook. Men velg “tema” istedet for “tittel” som den siste kolonnen.</p>
</section>
<section id="utdrag-av-radene-filtrering">
<h3>Utdrag av radene (filtrering)<a class="headerlink" href="#utdrag-av-radene-filtrering" title="Permalink to this heading">#</a></h3>
<p>En annen type utdrag fra en dataframe er å vise et utvalg av radene basert på <em>verdier</em>
i èn (eller flere) av kolonnene. Dette kalles filtrering. Under er vi kun interessert i
innslag fra Bergen, og avgrenser derfor til rader der kolonnen <em>kommune</em> har <em>Bergen</em>
som verdi. Under resultatet vises antall rader som oppfyller avgrensningen. Dvs. det
finnes 777 innslag som er tatt opp i Bergen.</p>
<p>⚠️ <strong>Merk!</strong> For å filtrere må vi først si hvilken dataframe vi vil filtrere og deretter i [] definere hvilken kolonne i den dataframen som skal filtreres. Derfor må vi skrive <code class="docutils literal notranslate"><span class="pre">df_liten</span></code> inne i [] også.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df_liten</span><span class="p">[</span><span class="n">df_liten</span><span class="p">[</span><span class="s1">&#39;kommune&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Bergen&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>aar</th>
      <th>kommune</th>
      <th>tittel</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1976</td>
      <td>Bergen</td>
      <td>Rypejakt</td>
    </tr>
    <tr>
      <th>7</th>
      <td>1976</td>
      <td>Bergen</td>
      <td>Bomullsveveri</td>
    </tr>
    <tr>
      <th>50</th>
      <td>1977</td>
      <td>Bergen</td>
      <td>Bompenger</td>
    </tr>
    <tr>
      <th>67</th>
      <td>1977</td>
      <td>Bergen</td>
      <td>Vannmangel</td>
    </tr>
    <tr>
      <th>166</th>
      <td>1977</td>
      <td>Bergen</td>
      <td>Pasienter på venteliste</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>10182</th>
      <td>2016</td>
      <td>Bergen</td>
      <td>Fra selvplukk til restaurantmat (mellomstikk)</td>
    </tr>
    <tr>
      <th>10194</th>
      <td>2016</td>
      <td>Bergen</td>
      <td>95-åring går til topps på Ulriken</td>
    </tr>
    <tr>
      <th>10197</th>
      <td>2016</td>
      <td>Bergen</td>
      <td>Norges største tunnelboremaskin (mellomstikk)</td>
    </tr>
    <tr>
      <th>10205</th>
      <td>2016</td>
      <td>Bergen</td>
      <td>95-åring går til topps på Ulriken</td>
    </tr>
    <tr>
      <th>10208</th>
      <td>2016</td>
      <td>Bergen</td>
      <td>Norges største tunnelboremaskin (mellomstikk)</td>
    </tr>
  </tbody>
</table>
<p>777 rows × 3 columns</p>
</div></div></div>
</div>
<p>⚠️ <strong>Merk!</strong>  Radene er fortsatt nummerert med innførselsnummeret de har i det originale datasettet.</p>
<p>Et filter kan legges i en egen variabel. Dette kan øke lesbarheten av koden. Flere
filtre kan også kombineres med boolske operatorer. <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> brukes for <em>OG</em> mens <code class="docutils literal notranslate"><span class="pre">|</span></code> brukes
for <em>ELLER</em>.<a class="footnote-reference brackets" href="#pandas-boolsk" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a> Kombinasjonen under avgrenser til rader der kommunen er
Bergen samtidig som årstallet er før 1980.</p>
<p>Her vil vi filtrere på <em>bare</em> Bergen kommune og <em>bare</em> innslag som er før 1980</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">filter1</span> <span class="o">=</span> <span class="n">df_liten</span><span class="p">[</span><span class="s1">&#39;kommune&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Bergen&#39;</span>
<span class="linenos">2</span><span class="n">filter2</span> <span class="o">=</span> <span class="n">df_liten</span><span class="p">[</span><span class="s1">&#39;aar&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">1980</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="n">df_liten</span><span class="p">[</span><span class="n">filter1</span> <span class="o">&amp;</span> <span class="n">filter2</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>aar</th>
      <th>kommune</th>
      <th>tittel</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1976</td>
      <td>Bergen</td>
      <td>Rypejakt</td>
    </tr>
    <tr>
      <th>7</th>
      <td>1976</td>
      <td>Bergen</td>
      <td>Bomullsveveri</td>
    </tr>
    <tr>
      <th>50</th>
      <td>1977</td>
      <td>Bergen</td>
      <td>Bompenger</td>
    </tr>
    <tr>
      <th>67</th>
      <td>1977</td>
      <td>Bergen</td>
      <td>Vannmangel</td>
    </tr>
    <tr>
      <th>166</th>
      <td>1977</td>
      <td>Bergen</td>
      <td>Pasienter på venteliste</td>
    </tr>
    <tr>
      <th>204</th>
      <td>1977</td>
      <td>Bergen</td>
      <td>Loddefjord</td>
    </tr>
    <tr>
      <th>219</th>
      <td>1978</td>
      <td>Bergen</td>
      <td>Byttebutikk i Åsane</td>
    </tr>
    <tr>
      <th>257</th>
      <td>1978</td>
      <td>Bergen</td>
      <td>Datakontroll av fiskeflåten hos Fiskeridirekto...</td>
    </tr>
    <tr>
      <th>272</th>
      <td>1978</td>
      <td>Bergen</td>
      <td>Buekorpsgutten Jacob Torsvik</td>
    </tr>
    <tr>
      <th>283</th>
      <td>1978</td>
      <td>Bergen</td>
      <td>Seilskipet Statsraad Lehmkuhl forfaller</td>
    </tr>
    <tr>
      <th>324</th>
      <td>1978</td>
      <td>Bergen</td>
      <td>Fana: Ambulerende servicetiltak for eldre</td>
    </tr>
    <tr>
      <th>373</th>
      <td>1978</td>
      <td>Bergen</td>
      <td>Åsane: Mesterskap i ludo</td>
    </tr>
    <tr>
      <th>435</th>
      <td>1979</td>
      <td>Bergen</td>
      <td>Bergen/Alvøen: Produksjon av pengesedler</td>
    </tr>
    <tr>
      <th>436</th>
      <td>1979</td>
      <td>Bergen</td>
      <td>Bergen/Breistein: Amatørteater på Vestlandsheimen</td>
    </tr>
    <tr>
      <th>445</th>
      <td>1979</td>
      <td>Bergen</td>
      <td>Agnete Tjærandsen besøker Bergen(mellomstikk)</td>
    </tr>
    <tr>
      <th>457</th>
      <td>1979</td>
      <td>Bergen</td>
      <td>Bussemennene - sporveistiltak for eldre</td>
    </tr>
    <tr>
      <th>471</th>
      <td>1979</td>
      <td>Bergen</td>
      <td>Strilene inntar byen</td>
    </tr>
    <tr>
      <th>475</th>
      <td>1979</td>
      <td>Bergen</td>
      <td>Ferieklubb for barn</td>
    </tr>
    <tr>
      <th>521</th>
      <td>1979</td>
      <td>Bergen</td>
      <td>Blomsterdekorering</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Hvis vi bare skal se på innslag fra Bergen fra en gitt tidsperiode trenger vi ikke ha en kolonne som forteller at innslaget er fra Bergen. Da kan vi fjerne den kolonnen. Rader og kolonner kan avgrenses i samme kommando. Under bruker vi det samme filteret som i forrige skjermbilde,
men begrenser visningen til to kolonner. Her legger vi listen av kolonner i en egen variabel, <code class="docutils literal notranslate"><span class="pre">cols</span></code>.
Vi avslutter kommandoen med <code class="docutils literal notranslate"><span class="pre">.head()</span></code> for å kun vise de første fem radene.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">filter1</span> <span class="o">=</span> <span class="n">df_liten</span><span class="p">[</span><span class="s1">&#39;kommune&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Bergen&#39;</span>
<span class="linenos">2</span><span class="n">filter2</span> <span class="o">=</span> <span class="n">df_liten</span><span class="p">[</span><span class="s1">&#39;aar&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">1980</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;tittel&#39;</span><span class="p">,</span> <span class="s1">&#39;aar&#39;</span><span class="p">]</span>
<span class="linenos">5</span>
<span class="linenos">6</span><span class="n">df_liten</span><span class="p">[</span><span class="n">filter1</span> <span class="o">&amp;</span> <span class="n">filter2</span><span class="p">][</span><span class="n">cols</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>tittel</th>
      <th>aar</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Rypejakt</td>
      <td>1976</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Bomullsveveri</td>
      <td>1976</td>
    </tr>
    <tr>
      <th>50</th>
      <td>Bompenger</td>
      <td>1977</td>
    </tr>
    <tr>
      <th>67</th>
      <td>Vannmangel</td>
      <td>1977</td>
    </tr>
    <tr>
      <th>166</th>
      <td>Pasienter på venteliste</td>
      <td>1977</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>✍️ <strong>Oppgave:</strong>  Gjør det samme i din egen notebook, men velg en annen kommune enn Bergen. Husk at hvis du kopierer må du også endre “tittel” til “tema”.</p>
</section>
<section id="endre-navn-pa-en-kolonne">
<h3>Endre navn på en kolonne<a class="headerlink" href="#endre-navn-pa-en-kolonne" title="Permalink to this heading">#</a></h3>
<p>Som vi har nevnt tidligere i boken (se f. eks. avsnitt om <a class="reference internal" href="kapittel5.html"><span class="doc std std-doc">variabelnavn</span></a>), utgjør god navngiving
(av variabler, funksjoner, osv.) en del av dokumentasjonen til det vi gjør. Dette gjelder i enda
høyere grad navngiving av kolonner i dataframes. Under definerer vi en dict som konverterer fra gammelt navn til nytt navn på
to av kolonnene. Funksjonen <code class="docutils literal notranslate"><span class="pre">.rename()</span></code>, hvor parameteren <code class="docutils literal notranslate"><span class="pre">columns</span></code> tilordnes denne dicten,
endrer navn på disse kolonnene før vi lister opp kolonnene med <code class="docutils literal notranslate"><span class="pre">.head()</span></code>. Legg merke til at
kolonnennavnene i <code class="docutils literal notranslate"><span class="pre">df_liten</span></code> er fortsatt uendret, da denne navnendringen gjelder en midlertidig
dataframe som lages “on the fly” for nettopp denne visningen.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">newNames</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">2</span>    <span class="s1">&#39;aar&#39;</span> <span class="p">:</span> <span class="s1">&#39;år før 1980&#39;</span><span class="p">,</span>
<span class="linenos">3</span>    <span class="s1">&#39;kommune&#39;</span> <span class="p">:</span> <span class="s1">&#39;sted tatt opp&#39;</span> 
<span class="linenos">4</span><span class="p">}</span>
<span class="linenos">5</span>
<span class="linenos">6</span><span class="n">df_liten</span><span class="p">[</span><span class="n">filter1</span> <span class="o">&amp;</span> <span class="n">filter2</span><span class="p">]</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">newNames</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>år før 1980</th>
      <th>sted tatt opp</th>
      <th>tittel</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1976</td>
      <td>Bergen</td>
      <td>Rypejakt</td>
    </tr>
    <tr>
      <th>7</th>
      <td>1976</td>
      <td>Bergen</td>
      <td>Bomullsveveri</td>
    </tr>
    <tr>
      <th>50</th>
      <td>1977</td>
      <td>Bergen</td>
      <td>Bompenger</td>
    </tr>
    <tr>
      <th>67</th>
      <td>1977</td>
      <td>Bergen</td>
      <td>Vannmangel</td>
    </tr>
    <tr>
      <th>166</th>
      <td>1977</td>
      <td>Bergen</td>
      <td>Pasienter på venteliste</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="eksportere-til-en-ny-csv-fil">
<h3>Eksportere til en ny CSV-fil<a class="headerlink" href="#eksportere-til-en-ny-csv-fil" title="Permalink to this heading">#</a></h3>
<p>Kanskje er det slik at du ønsker å vaske et mindre datasett i <em>OpenRefine</em>, eller rett og slett lagre dataframen som et nytt datasett? Du bruker da funksjonen <code class="docutils literal notranslate"><span class="pre">df.to_csv('ønsketnavnpåfilen.csv')</span></code>. Du kan også spesifisere adresse før navnet, om det er et spesielt sted du ønsker å lagre filen. <code class="docutils literal notranslate"><span class="pre">df</span></code> erstattes med navnet på dataframen du ønsker å eksportere til å bli en fil (Ja, det kan også bare være df (hoved-dataframe) om du kun har gjort endringer i den).</p>
<p>✍️ <strong>Oppgave:</strong>  Lag en CSV-fil av <code class="docutils literal notranslate"><span class="pre">df_liten</span></code>. Opprett en ny notebook og les inn filen som <code class="docutils literal notranslate"><span class="pre">df</span></code> (hoved-dataframe) for den nye notebooken.</p>
</section>
</section>
<section id="flere-datatyper-i-pandas">
<h2>Flere datatyper i Pandas<a class="headerlink" href="#flere-datatyper-i-pandas" title="Permalink to this heading">#</a></h2>
<section id="series">
<h3>Series<a class="headerlink" href="#series" title="Permalink to this heading">#</a></h3>
<p>En enkel kolonne utgjør en <em>Pandas</em>-<code class="docutils literal notranslate"><span class="pre">Series</span></code>. Når vi foretar redigeringer i en kolonne bruker vi gjerne enten <em>Pandas</em>-funksjoner som er definert
med en <strong>Serie</strong> “i tankene” eller metoder som er definert for datatypen “Series”. Vi starter med å se på årstall-kolonnen i df, <code class="docutils literal notranslate"><span class="pre">df['aar']</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;aar&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    1976
1    1976
2    1976
3    1976
4    1976
Name: aar, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>Vi ser at ‘aar’ er en tallkolonne.</p>
<p>Hvis vi ønsker å konvertere alle datoangivelser i en kolonne til datatypen <code class="docutils literal notranslate"><span class="pre">datetime</span></code>, kan vi bruke pandas-funksjonen <code class="docutils literal notranslate"><span class="pre">to_datetime()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="c1">#Kjør en pandas-funksjon som konverterer en tallkolonne til en datokolonne</span>
<span class="linenos">2</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;aar&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;aar&#39;</span><span class="p">])</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;aar&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0   1970-01-01 00:00:00.000001976
1   1970-01-01 00:00:00.000001976
2   1970-01-01 00:00:00.000001976
3   1970-01-01 00:00:00.000001976
4   1970-01-01 00:00:00.000001976
Name: aar, dtype: datetime64[ns]
</pre></div>
</div>
</div>
</div>
<p>Kolonnen representerer nå årstallene som tidsinnførsler (1. januar er valgt per default som dato).</p>
<p>Vi kan også eksportere serien til en liste for bruk utenfor pandas. Dette gjør vi med metoden <code class="docutils literal notranslate"><span class="pre">to_list()</span></code> definert i Series-klassen</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="c1">#Kjør en pandas _metode_ som gjør series om til en liste.</span>
<span class="linenos">2</span><span class="n">datoliste</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;aar&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
<span class="linenos">3</span><span class="n">datoliste</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[Timestamp(&#39;1970-01-01 00:00:00.000001976&#39;),
 Timestamp(&#39;1970-01-01 00:00:00.000001976&#39;),
 Timestamp(&#39;1970-01-01 00:00:00.000001976&#39;),
 Timestamp(&#39;1970-01-01 00:00:00.000001976&#39;),
 Timestamp(&#39;1970-01-01 00:00:00.000001976&#39;)]
</pre></div>
</div>
</div>
</div>
</section>
<section id="index">
<h3>Index<a class="headerlink" href="#index" title="Permalink to this heading">#</a></h3>
<p>En <code class="docutils literal notranslate"><span class="pre">Index</span></code> gjør det mulig å referere til enkeltrader, enkeltkolonner, enkeltceller og grupper av
slike i en dataframe. Enhver dataframe, selv de enkleste av de, har en <code class="docutils literal notranslate"><span class="pre">Index</span></code>. Det finnes
forskjellige innebygde indekstyper i Pandas for å svare til forskjellige behov. Som regel opprettes indeksen
automatisk basert på strukturen i dataene. I <a class="reference internal" href="#pandas-column-index"><span class="std std-ref">tidligere eksempel</span></a>,
ser vi en indeks som er basert på kolonnenavnene
i CSV-filens første rad.  Under oppretter vi en dataframe basert på en liste av tupler fra et tidligere eksempel.
Denne får automatisk en <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code>, som er en enkel ordenstallbasert indeks.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">sportsvarer</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># Liste med tupler</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="n">sportsvarer</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="s1">&#39;Fotballer&#39;</span><span class="p">,</span> <span class="mf">95.0</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="linenos">4</span><span class="n">sportsvarer</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="s1">&#39;Shorts&#39;</span><span class="p">,</span> <span class="mf">89.0</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span>
<span class="linenos">5</span><span class="n">sportsvarer</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="s1">&#39;Trøyer&#39;</span><span class="p">,</span> <span class="mf">74.0</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="linenos">6</span>
<span class="linenos">7</span><span class="nb">print</span><span class="p">(</span><span class="n">sportsvarer</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;Fotballer&#39;, 95.0, 5), (&#39;Shorts&#39;, 89.0, 12), (&#39;Trøyer&#39;, 74.0, 15)]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df_sport</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">sportsvarer</span><span class="p">)</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="nb">print</span><span class="p">(</span><span class="n">df_sport</span><span class="p">),</span> 
<span class="linenos">4</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;kolonneindeksen:&#39;</span><span class="p">,</span> <span class="n">df_sport</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>           0     1   2
0  Fotballer  95.0   5
1     Shorts  89.0  12
2     Trøyer  74.0  15
kolonneindeksen: RangeIndex(start=0, stop=3, step=1)
</pre></div>
</div>
</div>
</div>
<p>Mer kompliserte dataframes, hvor kolonnene har en gruppering vil få  en <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code>,
som er en indeks med flere nivåer, hvor det øverste nivået ville være <em>kolonnegruppen</em> og
det nederste nivået <em>enkeltkolonnen</em>. Eksempel på en <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> vises i avsnittet om gruppering lenger ned i kapittelet.</p>
<!-- avsnitt~\ref{pandas-gruppering}, figur~\vref{pandas-oda-groupby-dataframe}. -->
<p>Fordi <em>aar</em> er et heltall kan vi bruke <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> og <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> i filter, se tidligere eksempel i
skjermbildet</p>
<!-- \vref{pandas-filter-boolean}. -->
</section>
</section>
<section id="analyse-av-kolonner-med-tall">
<h2>Analyse av kolonner med tall<a class="headerlink" href="#analyse-av-kolonner-med-tall" title="Permalink to this heading">#</a></h2>
<p>For å få oversikt over en kolonne som har en tallmessig datatype kan
vi bruke <code class="docutils literal notranslate"><span class="pre">.describe()</span></code>-metoden.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;antall_menn&#39;</span><span class="p">,</span> <span class="s1">&#39;antall_kvinner&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>antall_menn</th>
      <th>antall_kvinner</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>9013.000000</td>
      <td>6898.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>7.600466</td>
      <td>7.959409</td>
    </tr>
    <tr>
      <th>std</th>
      <td>11.243148</td>
      <td>11.993381</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1.000000</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>2.000000</td>
      <td>2.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>4.000000</td>
      <td>4.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>10.000000</td>
      <td>10.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>100.000000</td>
      <td>100.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Ønsker du å bare vise en form for tallmessig beskrivelse kan du velge funksjonene hver for seg.</p>
<p>Bruk <code class="docutils literal notranslate"><span class="pre">.median()</span></code>-metoden for å finne median for verdiene i en kolonne.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;antall_kvinner&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4.0
</pre></div>
</div>
</div>
</div>
<p>Under er en oversikt over tallmessige beskrivelser man kan benytte seg av:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metode</p></th>
<th class="head text-left"><p>Beskrivelse</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>.median()</p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>.mean()</p></td>
<td class="text-left"><p>gjennomsnittsverdien</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>.count()</p></td>
<td class="text-left"><p>antall rader for hvilke kolonnen har en verdi (ikke tom)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>.sum()</p></td>
<td class="text-left"><p>-</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>.min()</p></td>
<td class="text-left"><p>-</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>.max()</p></td>
<td class="text-left"><p>-</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>.quantile(0.25)</p></td>
<td class="text-left"><p>-</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>.quantile(0.75)</p></td>
<td class="text-left"><p>-</p></td>
</tr>
</tbody>
</table>
<p>Under bruker vi <code class="docutils literal notranslate"><span class="pre">.sum()</span></code> i en Python-celle for å regne ut prosentvis fordeling
mellom menn og kvinner. Her tolker vi tomme celler som 0.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">total_antall_kvinner</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;antall_kvinner&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="linenos"> 2</span><span class="n">total_antall_menn</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;antall_menn&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="n">total_antall</span> <span class="o">=</span> <span class="n">total_antall_kvinner</span> <span class="o">+</span> <span class="n">total_antall_menn</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="n">kvinner_prosent</span> <span class="o">=</span> <span class="p">(</span><span class="n">total_antall_kvinner</span> <span class="o">/</span> <span class="n">total_antall</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
<span class="linenos"> 7</span><span class="n">menn_prosent</span> <span class="o">=</span> <span class="p">(</span><span class="n">total_antall_menn</span> <span class="o">/</span> <span class="n">total_antall</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Kvinner prosent:&#39;</span><span class="p">,</span> <span class="n">kvinner_prosent</span><span class="p">)</span>
<span class="linenos">10</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Menn prosent:&#39;</span><span class="p">,</span> <span class="n">menn_prosent</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Kvinner prosent: 44.49018289075985
Menn prosent: 55.50981710924015
</pre></div>
</div>
</div>
</div>
</section>
<section id="analyse-av-kolonner-med-tekst">
<h2>Analyse av kolonner med tekst<a class="headerlink" href="#analyse-av-kolonner-med-tekst" title="Permalink to this heading">#</a></h2>
<p>Hvis vi bruker <code class="docutils literal notranslate"><span class="pre">.describe()</span></code>-metoden på en kolonne som inneholder tekst,
får vi en annen type statistikk:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;kommune&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>count      10219
unique       431
top       Bergen
freq         777
Name: kommune, dtype: object
</pre></div>
</div>
</div>
</div>
<p>Her angir <em>count</em> antallet verdier i kolonnen. Dette kan være relevant for å se manglende
data. Oversikten viser også antall unike verdier og verdien med høyest frekvens.
I dette eksempel er det <em>Bergen</em> som har høyest frekvens med 777 forekomster.
Metoden <code class="docutils literal notranslate"><span class="pre">unique()</span></code> gir oss alle unike verdier i kolonnen.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;kommune&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;Bergen&#39;, &#39;Sirdal&#39;, &#39;Øksnes&#39;, &#39;Orkdal&#39;, &#39;Finnøy&#39;, &#39;Østre Toten&#39;,
       &#39;Stranda&#39;, &#39;Øvre Eiker&#39;, &#39;Bodø&#39;, &#39;Ullensvang&#39;, &#39;Vardø&#39;, &#39;Tønsberg&#39;,
       &#39;Fet&#39;, &#39;Kviteseid&#39;, &#39;Karmøy&#39;, &#39;Lillesand&#39;, &#39;Ukjent sted&#39;, &#39;Tromsø&#39;,
       &#39;Bærum&#39;, &#39;Trondheim&#39;, &#39;Dovre&#39;, &#39;Loppa&#39;, &#39;Lenvik&#39;, &#39;Askim&#39;,
       &#39;Kristiansund&#39;, &#39;Vadsø&#39;, &#39;Sund&#39;, &#39;Alstahaug&#39;, &#39;Flora&#39;, &#39;Jan Mayen&#39;,
       &#39;Karasjok&#39;, &#39;Valle&#39;, &#39;Ringsaker&#39;, &#39;Sandnes&#39;, &#39;Stordal&#39;, &#39;Sandøy&#39;,
       &#39;Arendal&#39;, &#39;Herøy (Nordl.)&#39;, &#39;Hole&#39;, &#39;Sula&#39;, &#39;Hå&#39;, &#39;Kristiansand&#39;,
       &#39;Hjelmeland&#39;, &#39;Hvaler&#39;, &#39;Namsos&#39;, &#39;Sogndal&#39;, &#39;Halden&#39;,
       &#39;Oslokommune&#39;, &#39;Fræna&#39;, &#39;Sortland&#39;, &#39;Båtsfjord&#39;, &#39;Lillehammer&#39;,
       &#39;Verran&#39;, &#39;Rygge&#39;, &#39;Alta&#39;, &#39;Ringerike&#39;, &#39;Elverum&#39;, &#39;Fauske&#39;,
       &#39;Øystre Slidre&#39;, &#39;Ullensaker&#39;, &#39;Stryn&#39;, &#39;Ulvik&#39;, &#39;Sola&#39;, &#39;Åmot&#39;,
       &#39;Ibestad&#39;, &#39;Leikanger&#39;, &#39;Porsgrunn&#39;, &#39;Lierne&#39;, &#39;Snillfjord&#39;,
       &#39;Vågan&#39;, &#39;Tranøy&#39;, &#39;Ringebu&#39;, &#39;Ås&#39;, &#39;Tana&#39;, &#39;Røst&#39;, &#39;Hitra&#39;,
       &#39;Tinn&#39;, &#39;Eid&#39;, &#39;Levanger&#39;, &#39;Nøtterøy&#39;, &#39;Marnardal&#39;, &#39;Balsfjord&#39;,
       &#39;Inderøy&#39;, &#39;Vestnes&#39;, &#39;Bindal&#39;, &#39;Tysvær&#39;, &#39;Larvik&#39;,
       &#39;Herøy (M.ogR.)&#39;, &#39;Hamar&#39;, &#39;Lund&#39;, &#39;Kåfjord&#39;, &#39;Tysnes&#39;, &#39;Engerdal&#39;,
       &#39;Kongsberg&#39;, &#39;Nordreisa&#39;, &#39;Utlandet&#39;, &#39;Etne&#39;, &#39;Horten&#39;, &#39;Rennebu&#39;,
       &#39;Seljord&#39;, &#39;Hasvik&#39;, &#39;Frosta&#39;, &#39;Rakkestad&#39;, &#39;Stavanger&#39;,
       &#39;Kongsvinger&#39;, &#39;Skien&#39;, &#39;Rissa&#39;, &#39;Holmestrand&#39;, &#39;Saltdal&#39;, &#39;Eide&#39;,
       &#39;Porsanger&#39;, &#39;Kvitsøy&#39;, &#39;Årdal&#39;, &#39;Farsund&#39;, &#39;Molde&#39;, &#39;Ål&#39;,
       &#39;Søndre Land&#39;, &#39;Rana&#39;, &#39;Gausdal&#39;, &#39;Drammen&#39;, &#39;Sør-Varanger&#39;,
       &#39;Hyllestad&#39;, &#39;Klepp&#39;, &#39;Rauma&#39;, &#39;Bjugn&#39;, &#39;Sør-Aurdal&#39;,
       &#39;Bø (Telem.)&#39;, &#39;Rendalen&#39;, &#39;Vindafjord&#39;, &#39;Svalbard&#39;, &#39;Torsken&#39;,
       &#39;Vefsn&#39;, &#39;Mandal&#39;, &#39;Fredrikstad&#39;, &#39;Stange&#39;, &#39;Lindås&#39;, &#39;Hol&#39;,
       &#39;Trysil&#39;, &#39;Nannestad&#39;, &#39;Frøya&#39;, &#39;Songdalen&#39;, &#39;Selje&#39;, &#39;Luster&#39;,
       &#39;Kvæfjord&#39;, &#39;Gjerstad&#39;, &#39;Notodden&#39;, &#39;Samnanger&#39;, &#39;Nesna&#39;, &#39;Røros&#39;,
       &#39;Skjervøy&#39;, &#39;Gol&#39;, &#39;Kragerø&#39;, &#39;Gamvik&#39;, &#39;Surnadal&#39;, &#39;Bømlo&#39;,
       &#39;Snåsa&#39;, &#39;Nordsjøen&#39;, &#39;Eidsberg&#39;, &#39;Hammerfest&#39;, &#39;Meråker&#39;, &#39;Selbu&#39;,
       &#39;Harstad&#39;, &#39;Kautokeino&#39;, &#39;Karlsøy&#39;, &#39;Våler (Hedm.)&#39;, &#39;Tvedestrand&#39;,
       &#39;Vinje&#39;, &#39;Kvam&#39;, &#39;Melhus&#39;, &#39;Grimstad&#39;, &#39;Ålesund&#39;, &#39;Vestre Slidre&#39;,
       &#39;Nordkapp&#39;, &#39;Forsand&#39;, &#39;Lyngdal&#39;, &#39;Time&#39;, &#39;Hadsel&#39;, &#39;Flakstad&#39;,
       &#39;Bamble&#39;, &#39;Lyngen&#39;, &#39;Haugesund&#39;, &#39;Eidfjord&#39;, &#39;Asker&#39;, &#39;Froland&#39;,
       &#39;Ørland&#39;, &#39;Trøgstad&#39;, &#39;Overhalla&#39;, &#39;Sarpsborg&#39;, &#39;Modum&#39;,
       &#39;Spydeberg&#39;, &#39;Gjemnes&#39;, &#39;Nordre Land&#39;, &#39;Tingvoll&#39;, &#39;Sørreisa&#39;,
       &#39;Lørenskog&#39;, &#39;Voss&#39;, &#39;Tjøme&#39;, &#39;Volda&#39;, &#39;Andøy&#39;, &#39;Sauda&#39;, &#39;Skjåk&#39;,
       &#39;Midtre Gauldal&#39;, &#39;Bardu&#39;, &#39;Suldal&#39;, &#39;Sandefjord&#39;, &#39;Oppegård&#39;,
       &#39;Eigersund&#39;, &#39;Giske&#39;, &#39;Vanylven&#39;, &#39;Eidskog&#39;, &#39;Narvik&#39;,
       &#39;Kvinnherad&#39;, &#39;Berg&#39;, &#39;Lunner&#39;, &#39;Hemnes&#39;, &#39;Smøla&#39;, &#39;Åmli&#39;, &#39;Åsnes&#39;,
       &#39;Gjøvik&#39;, &#39;Bygland&#39;, &#39;Måsøy&#39;, &#39;Oppdal&#39;, &#39;Moss&#39;, &#39;Lebesby&#39;,
       &#39;Hamarøy&#39;, &#39;Flatanger&#39;, &#39;Hurum&#39;, &#39;Vang&#39;, &#39;Kvinesdal&#39;, &#39;Tynset&#39;,
       &#39;Aure&#39;, &#39;Lurøy&#39;, &#39;Fitjar&#39;, &#39;Nes(Busk.)&#39;, &#39;Hattfjelldal&#39;,
       &#39;Tjeldsund&#39;, &#39;Flekkefjord&#39;, &#39;Gran&#39;, &#39;Andebu&#39;, &#39;Nord-Odal&#39;, &#39;Øyer&#39;,
       &#39;Aurskog-Høland&#39;, &#39;Evje og Hornnes&#39;, &#39;Bykle&#39;, &#39;Tokke&#39;, &#39;Jondal&#39;,
       &#39;Jølster&#39;, &#39;Radøy&#39;, &#39;Frogn&#39;, &#39;Vågsøy&#39;, &#39;Førde&#39;, &#39;Målselv&#39;, &#39;Haram&#39;,
       &#39;Granvin&#39;, &#39;Hemsedal&#39;, &#39;Aurland&#39;, &#39;Nesset&#39;, &#39;Vik&#39;, &#39;Lesja&#39;,
       &#39;Sigdal&#39;, &#39;Beiarn&#39;, &#39;Øygarden&#39;, &#39;Løten&#39;, &#39;Hjartdal&#39;, &#39;Naustdal&#39;,
       &#39;Røyken&#39;, &#39;Jevnaker&#39;, &#39;Vestvågøy&#39;, &#39;Gloppen&#39;, &#39;Steinkjer&#39;,
       &#39;Norddal&#39;, &#39;Askvoll&#39;, &#39;Leksvik&#39;, &#39;Skodje&#39;, &#39;Bjerkreim&#39;,
       &#39;Lindesnes&#39;, &#39;Randaberg&#39;, &#39;Vågå&#39;, &#39;Råde&#39;, &#39;Sør-Fron&#39;, &#39;Værøy&#39;,
       &#39;Sel&#39;, &#39;Sunndal&#39;, &#39;Grue&#39;, &#39;Vestre Toten&#39;, &#39;Rennesøy&#39;, &#39;Stjørdal&#39;,
       &#39;Averøy&#39;, &#39;Nome&#39;, &#39;Aremark&#39;, &#39;Nittedal&#39;, &#39;Fyresdal&#39;, &#39;Krødsherad&#39;,
       &#39;Stokke&#39;, &#39;Odda&#39;, &#39;Salangen&#39;, &#39;Berlevåg&#39;, &#39;Osterøy&#39;, &#39;Vaksdal&#39;,
       &#39;Skedsmo&#39;, &#39;Gratangen&#39;, &#39;Stord&#39;, &#39;Eidsvoll&#39;, &#39;Nes(Ak.)&#39;, &#39;Alvdal&#39;,
       &#39;Sveio&#39;, &#39;Gjesdal&#39;, &#39;Askøy&#39;, &#39;Sørum&#39;, &#39;Dønna&#39;, &#39;Vegårshei&#39;,
       &#39;Søgne&#39;, &#39;Evenes&#39;, &#39;Hobøl&#39;, &#39;Dyrøy&#39;, &#39;Lom&#39;, &#39;Vestby&#39;, &#39;Balestrand&#39;,
       &#39;Nore og Uvdal&#39;, &#39;Sauherad&#39;, &#39;Steigen&#39;, &#39;Os (Hord.)&#39;, &#39;Ørsta&#39;,
       &#39;Ørskog&#39;, &#39;Våler (Østf.)&#39;, &#39;Hof&#39;, &#39;Tydal&#39;, &#39;Rollag&#39;, &#39;Sørfold&#39;,
       &#39;Nord-Aurdal&#39;, &#39;Stor-Elvdal&#39;, &#39;Hornindal&#39;, &#39;Strand&#39;, &#39;Vennesla&#39;,
       &#39;Etnedal&#39;, &#39;Drangedal&#39;, &#39;Rødøy&#39;, &#39;Ski&#39;, &#39;Hurdal&#39;, &#39;Rælingen&#39;,
       &#39;Lier&#39;, &#39;Fjaler&#39;, &#39;Bø (Nordl.)&#39;, &#39;Marker&#39;, &#39;Holtålen&#39;, &#39;Høyanger&#39;,
       &#39;Skiptvet&#39;, &#39;Meldal&#39;, &#39;Sykkylven&#39;, &#39;Brønnøy&#39;, &#39;Siljan&#39;, &#39;Tysfjord&#39;,
       &#39;Nedre Eiker&#39;, &#39;Sande (Vestf.)&#39;, &#39;Nissedal&#39;, &#39;Vikna&#39;, &#39;Audnedal&#39;,
       &#39;Skaun&#39;, &#39;Kvænangen&#39;, &#39;Ulstein&#39;, &#39;Meløy&#39;, &#39;Halsa&#39;, &#39;Risør&#39;,
       &#39;Gaular&#39;, &#39;Tolga&#39;, &#39;Enebakk&#39;, &#39;Røyrvik&#39;, &#39;Høylandet&#39;, &#39;Fjell&#39;,
       &#39;Lødingen&#39;, &#39;Nesseby&#39;, &#39;Fusa&#39;, &#39;Sør-Odal&#39;, &#39;Aukra&#39;, &#39;Birkenes&#39;,
       &#39;Os (Hedm.)&#39;, &#39;Storfjord&#39;, &#39;Svelvik&#39;, &#39;Folldal&#39;, &#39;Masfjorden&#39;,
       &#39;Bremanger&#39;, &#39;Rindal&#39;, &#39;Lærdal&#39;, &#39;Namsskogan&#39;, &#39;Åseral&#39;, &#39;Re&#39;,
       &#39;Bjørnøya&#39;, &#39;Sokndal&#39;, &#39;Nord-Fron&#39;, &#39;Skånland&#39;, &#39;Utsira&#39;, &#39;Gulen&#39;,
       &#39;Verdal&#39;, &#39;Nærøy&#39;, &#39;Moskenes&#39;, &#39;Fedje&#39;, &#39;Nesodden&#39;, &#39;Grong&#39;,
       &#39;Sande (M.ogR.)&#39;, &#39;Lavangen&#39;, &#39;Vega&#39;, &#39;Lardal&#39;, &#39;Klæbu&#39;, &#39;Meland&#39;,
       &#39;Modalen&#39;, &#39;Austevoll&#39;, &#39;Malvik&#39;, &#39;Træna&#39;, &#39;Fosnes&#39;, &#39;Hareid&#39;,
       &#39;Austrheim&#39;, &#39;Midsund&#39;, &#39;Flesberg&#39;, &#39;Flå&#39;, &#39;Osen&#39;, &#39;Solund&#39;,
       &#39;Hægebostad&#39;, &#39;Ballangen&#39;, &#39;Iveland&#39;, &#39;Gildeskål&#39;, &#39;Rømskog&#39;,
       &#39;Hemne&#39;, &#39;Oslo Fredrikstad&#39;, &#39;Vevelstad&#39;, &#39;Namdalseid&#39;, &#39;Åfjord&#39;,
       &#39;Leirfjord&#39;, &#39;Sømna&#39;, &#39;Grane&#39;, &#39;Kjøllefjord&#39;, &#39;Leka&#39;], dtype=object)
</pre></div>
</div>
</div>
</div>
<p>For å få en liste over unike verdier sortert etter frekvens, kan vi bruke
<code class="docutils literal notranslate"><span class="pre">.value_counts()</span></code>-metoden. Visningen nedenfor sorteres på
frekvens, og viser verdiene med de fem høyeste og fem laveste frekvenser.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;kommune&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Bergen         777
Oslokommune    735
Ukjent sted    585
Trondheim      248
Stavanger      223
              ... 
Røyrvik          1
Sømna            1
Grane            1
Kjøllefjord      1
Leka             1
Name: kommune, Length: 431, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>Vi kan legge til <code class="docutils literal notranslate"><span class="pre">.head()</span></code> eller <code class="docutils literal notranslate"><span class="pre">.tail()</span></code> for å se utdrag av verdiene. F.eks. for
å se de 20 kommunene med høyest frekvens.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;kommune&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Bergen          777
Oslokommune     735
Ukjent sted     585
Trondheim       248
Stavanger       223
Kristiansand    180
Tromsø          159
Fredrikstad     156
Bodø            122
Lillehammer     104
Skien            98
Porsgrunn        88
Utlandet         86
Ålesund          85
Arendal          81
Bærum            79
Drammen          76
Svalbard         70
Sør-Varanger     67
Sarpsborg        63
Name: kommune, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>✍️ <strong>Oppgave:</strong> Gjør det samme som over med kolonnen “tema”.</p>
<p>Alternativt kan vi vise relativ frekvens</p>
<!-- \footnote{Relativ frekvens er andelen av forekomstene av en verdi 
i kolonnen, på den måten at hvis en viss verdi befolker halvparten av 
radene i kolonnen er dens relative frekvens 0.5 }. --> 
<p>I eksemplet i brukes <code class="docutils literal notranslate"><span class="pre">normalize</span></code>-parameteren med boolsk verdi <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;kommune&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Bergen          0.076035
Oslokommune     0.071925
Ukjent sted     0.057246
Trondheim       0.024269
Stavanger       0.021822
Kristiansand    0.017614
Tromsø          0.015559
Fredrikstad     0.015266
Bodø            0.011939
Lillehammer     0.010177
Name: kommune, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Frekvensene kan lagres som en dataframe ved hjelp av
<code class="docutils literal notranslate"><span class="pre">.to_frame()</span></code>-metoden.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df_temp</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;kommune&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span>
<span class="linenos">2</span><span class="n">df_temp</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>kommune</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Bergen</th>
      <td>0.076035</td>
    </tr>
    <tr>
      <th>Oslokommune</th>
      <td>0.071925</td>
    </tr>
    <tr>
      <th>Ukjent sted</th>
      <td>0.057246</td>
    </tr>
    <tr>
      <th>Trondheim</th>
      <td>0.024269</td>
    </tr>
    <tr>
      <th>Stavanger</th>
      <td>0.021822</td>
    </tr>
    <tr>
      <th>Kristiansand</th>
      <td>0.017614</td>
    </tr>
    <tr>
      <th>Tromsø</th>
      <td>0.015559</td>
    </tr>
    <tr>
      <th>Fredrikstad</th>
      <td>0.015266</td>
    </tr>
    <tr>
      <th>Bodø</th>
      <td>0.011939</td>
    </tr>
    <tr>
      <th>Lillehammer</th>
      <td>0.010177</td>
    </tr>
    <tr>
      <th>Skien</th>
      <td>0.009590</td>
    </tr>
    <tr>
      <th>Porsgrunn</th>
      <td>0.008611</td>
    </tr>
    <tr>
      <th>Utlandet</th>
      <td>0.008416</td>
    </tr>
    <tr>
      <th>Ålesund</th>
      <td>0.008318</td>
    </tr>
    <tr>
      <th>Arendal</th>
      <td>0.007926</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>✍️ <strong>Oppgave:</strong> Gjør det samme som over, bare for kolonnen “tema”.</p>
<p>Denne dataframen er indeksert med kommunenavnet som nøkkel. Slike dataframes brukes for eksempel i visualiseringer:
Nedenfor oppretter vi en ny konnene i den nylagde dataframen,
<em>Procent</em> som tar prosenttall. Til slutt lages et enkelt stoplediagram.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df_temp</span><span class="p">[</span><span class="s1">&#39;procent&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_temp</span><span class="p">[</span><span class="s1">&#39;kommune&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span>
<span class="linenos">2</span><span class="n">df_temp</span><span class="p">[</span><span class="s1">&#39;procent&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: &gt;
</pre></div>
</div>
<img alt="_images/7b8112be00b2752439d0090abfdc1ed44f47501f1d3797de149092ea6ef14a1a.png" src="_images/7b8112be00b2752439d0090abfdc1ed44f47501f1d3797de149092ea6ef14a1a.png" />
</div>
</div>
<p>Du kan lese mer om visualisering i neste kapittel. Her gir vi kun en smakebit.</p>
</section>
<section id="gruppering">
<h2>Gruppering<a class="headerlink" href="#gruppering" title="Permalink to this heading">#</a></h2>
<p>I denne gjenngangen bruker vi data fra ODA, OsloMets institusjonelle arkiv. Vi har hentet ut data som vi så laget lagret i en CSV-fil.<br />
Du finner csv-filen på toppen av dette kapitlet.</p>
<p>Dataframen består av 3149 rader (oppgaver) og 15 kolonner:</p>
<!-- Vi må opprett df for dette å fungere. --><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df_oda</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/oda-master-thesis.csv&#39;</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="p">)</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="n">df_oda</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;Title&#39;, &#39;Identifier&#39;, &#39;Creators&#39;, &#39;Supervisors&#39;, &#39;Lang&#39;, &#39;Subjects&#39;,
       &#39;SubjectsVDP&#39;, &#39;Date&#39;, &#39;Institute&#39;, &#39;FacultyShort&#39;, &#39;FacultyLong&#39;,
       &#39;InstituteShort&#39;, &#39;InstituteLong&#39;, &#39;MasterProg&#39;, &#39;LangNorm&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<p>Kolonnen <em>Lang</em> lagrer språket oppgaven er skrevet på:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df_oda</span><span class="p">[</span><span class="s1">&#39;Lang&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>nb    2396
en     695
nn      47
da       4
se       3
Name: Lang, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>Kolonnen <em>LangNorm</em> har en forenklet versjon av språk der koden ‘nb’ og ‘nn’ er
mappet til ‘nor’; ‘en’ er mappet til ‘eng’; og andre verdier er mappet til ‘oth’.
Relativ frekvens for denne kolonnen viser at 77 prosent av oppgavene er skrevet på
norsk, 22 prosent på engelsk, og mindre en 1 prosent på andre språk.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df_oda</span><span class="p">[</span><span class="s1">&#39;LangNorm&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>nor    0.775802
eng    0.220705
oth    0.003493
Name: LangNorm, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Er fordelingen på språk likt mellom fakulteter? Vi kan bruke <code class="docutils literal notranslate"><span class="pre">.groupby()</span></code>-metoden for å vise
språkfordelingen for hvert fakultet. Vi ser
at LUI (Fakultet for lærerutdanning og internasjonale studier) har den størst andel av
oppgaver på norsk, 88%, mens TKD (Fakultet for teknologi, kunst og design) har 57,5% på norsk.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df_oda</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;FacultyShort&#39;</span><span class="p">)[</span><span class="s1">&#39;LangNorm&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FacultyShort  LangNorm
HV            nor         0.829448
              eng         0.166871
              oth         0.003681
LUI           nor         0.887324
              eng         0.112676
SAM           nor         0.754650
              eng         0.240035
              oth         0.005314
TKD           nor         0.575758
              eng         0.420202
              oth         0.004040
Name: LangNorm, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>I det følgende lagrer vi analyseresultater i en nyopprettet dataframe.
Her brukes <code class="docutils literal notranslate"><span class="pre">.to_frame()</span></code> for å legge resultatet i en ny dataframe. Vanligvis
er indeksen - identifikatoren for raden -  et heltall. Dette er nummeret 0, 1, 2,
osv. som vises til venstre for radene. Når vi bruker <code class="docutils literal notranslate"><span class="pre">.groupby()</span></code> gjøres verdiene
i kolonnen  som er parameter til <em>.groupby()</em> om til en indeks. Fordi vi grupperer
<em>fakultet</em> kombinert med <em>språk</em>, lages det en <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> av <em>FacultyShort</em> og
<em>LangNorm</em>.</p>
<!--
\footnote{For de som kan relasjonsdatabase, blir det analogt med en kombinert nøkkel.}. -->
<p>Kolonnen med relativfrekvens kalles også <em>LangNorm</em>. Vi bruker <code class="docutils literal notranslate"><span class="pre">.rename()</span></code>-metoden for å
endre navnet på denne kolonnen fra <em>LangNorm</em> til <em>RelativeFreq</em></p>
<!-- (Se også figur \vref{pandas-rename}). --> 
<p>Parameteren til <code class="docutils literal notranslate"><span class="pre">.rename()</span></code> er en dict med det gamle kolonnenavnet som nøkkel
og det nye kolonnenavnet som verdi. Altså, etter å først gruppere, så oppretter vi en dict vi kaller for col_map. Denne dict’en inneholder nye navn på kolonner.<br />
Deretter</p>
<p><code class="docutils literal notranslate"><span class="pre">.inplace</span></code>-parameter bestemmer om vi
skal oppdatere dataframe (True), eller kun se resultatet (False, standardverdi).
Til slutt legger vi inn en ny kolonne hvor andelene er omregnet til prosenter. Da får vi en ny dataframe med nye navn på to kolonner, og en helt ny kolonne med ny data lagt til.</p>
<!-- (figur~\vref{pandas-oda-groupby-dataframe}). --><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df2_oda</span> <span class="o">=</span> <span class="n">df_oda</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;FacultyShort&#39;</span><span class="p">)[</span><span class="s1">&#39;LangNorm&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span>
<span class="linenos">2</span><span class="n">col_map</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">3</span>    <span class="s1">&#39;LangNorm&#39;</span> <span class="p">:</span> <span class="s1">&#39;RelativeFreq&#39;</span>
<span class="linenos">4</span><span class="p">}</span>
<span class="linenos">5</span><span class="n">df2_oda</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="n">col_map</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="linenos">6</span><span class="n">df2_oda</span><span class="p">[</span><span class="s1">&#39;Procent&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df2_oda</span><span class="p">[</span><span class="s1">&#39;RelativeFreq&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span>
<span class="linenos">7</span><span class="nb">print</span><span class="p">(</span><span class="n">df2_oda</span><span class="p">)</span>
<span class="linenos">8</span><span class="n">df2_oda</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                       RelativeFreq    Procent
FacultyShort LangNorm                         
HV           nor           0.829448  82.944785
             eng           0.166871  16.687117
             oth           0.003681   0.368098
LUI          nor           0.887324  88.732394
             eng           0.112676  11.267606
SAM          nor           0.754650  75.465013
             eng           0.240035  24.003543
             oth           0.005314   0.531444
TKD          nor           0.575758  57.575758
             eng           0.420202  42.020202
             oth           0.004040   0.404040
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>MultiIndex([( &#39;HV&#39;, &#39;nor&#39;),
            ( &#39;HV&#39;, &#39;eng&#39;),
            ( &#39;HV&#39;, &#39;oth&#39;),
            (&#39;LUI&#39;, &#39;nor&#39;),
            (&#39;LUI&#39;, &#39;eng&#39;),
            (&#39;SAM&#39;, &#39;nor&#39;),
            (&#39;SAM&#39;, &#39;eng&#39;),
            (&#39;SAM&#39;, &#39;oth&#39;),
            (&#39;TKD&#39;, &#39;nor&#39;),
            (&#39;TKD&#39;, &#39;eng&#39;),
            (&#39;TKD&#39;, &#39;oth&#39;)],
           names=[&#39;FacultyShort&#39;, &#39;LangNorm&#39;])
</pre></div>
</div>
</div>
</div>
<p>I visse situasjoner passer det ikke å jobbe med en MultiIndex. Da kan vi bruke <code class="docutils literal notranslate"><span class="pre">.reset_index()</span></code>
( se cellen nedenfor <!--figur  ~\vref{pandas-oda-groupby-dataframe-result} -->),
og gjør MultiIndex-kolonnene til vanlige datakolonner (Se tallene til venstre).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df2_oda</span> <span class="o">=</span> <span class="n">df2_oda</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>I neste kapittel skal vi se hvordan disse data kan
visualiseres med utvidelsen <em>Plotly</em>. Her er en enkel visualisering støttet direkte av <em>Pandas</em>.
I cellen nedenfor <!--på figur  ~\vref{pandas-oda-bar} --> ser vi hvordan andelen av de engelskspråkelige
oppgaver er på tvers av fakultetene ved å avgrense til engelsk språk.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">filter1</span> <span class="o">=</span> <span class="n">df2_oda</span><span class="p">[</span><span class="s1">&#39;LangNorm&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;eng&#39;</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="n">df2_oda</span><span class="p">[</span><span class="n">filter1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;FacultyShort&#39;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;Procent&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: xlabel=&#39;FacultyShort&#39;&gt;
</pre></div>
</div>
<img alt="_images/181e61a5abb07653c65ef8a002d67ad6db10b93938d81e8b695586e641e84ad5.png" src="_images/181e61a5abb07653c65ef8a002d67ad6db10b93938d81e8b695586e641e84ad5.png" />
</div>
</div>
<p>Ved å bruke <code class="docutils literal notranslate"><span class="pre">.sort_values()</span></code>-metoden ( se cellen nedenfor <!--figur  ~\vref{pandas-oda-filter-sort} -->)
kan vi sortere resultatet. Parametere til <code class="docutils literal notranslate"><span class="pre">.sort_values()</span></code> er kolonnen eller kolonnene
det skal sorteres etter, og om det skal sorteres i stigende (<code class="docutils literal notranslate"><span class="pre">ascending</span> <span class="pre">=</span> <span class="pre">True</span></code>,
standardverdi) eller fallende rekkefølge (<code class="docutils literal notranslate"><span class="pre">ascending</span> <span class="pre">=</span> <span class="pre">False</span></code>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">filter1</span> <span class="o">=</span> <span class="n">df2_oda</span><span class="p">[</span><span class="s1">&#39;LangNorm&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;eng&#39;</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="n">df2_oda</span><span class="p">[</span><span class="n">filter1</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Procent&#39;</span><span class="p">,</span> <span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>FacultyShort</th>
      <th>LangNorm</th>
      <th>RelativeFreq</th>
      <th>Procent</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>9</th>
      <td>TKD</td>
      <td>eng</td>
      <td>0.420202</td>
      <td>42.020202</td>
    </tr>
    <tr>
      <th>6</th>
      <td>SAM</td>
      <td>eng</td>
      <td>0.240035</td>
      <td>24.003543</td>
    </tr>
    <tr>
      <th>1</th>
      <td>HV</td>
      <td>eng</td>
      <td>0.166871</td>
      <td>16.687117</td>
    </tr>
    <tr>
      <th>4</th>
      <td>LUI</td>
      <td>eng</td>
      <td>0.112676</td>
      <td>11.267606</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="behandling-av-kolonner-som-inneholder-flere-verdier">
<h2>Behandling av kolonner som inneholder flere verdier<a class="headerlink" href="#behandling-av-kolonner-som-inneholder-flere-verdier" title="Permalink to this heading">#</a></h2>
<p>En masteroppgave kan ha flere emner. Dette løses i en CSV-fil ved å samle alle emnene i samme kolonne og bruke et internt
skilletegn for å skille dem. I dette tilfelle <!--(figur  ~\vref{pandas-oda-subjects} )-->
brukes <code class="docutils literal notranslate"><span class="pre">|</span></code> som skilletegn i kolonnen.</p>
<p>Det kan være at vi trenger å lage kolonner for hvert emne, slik at vi senere lettere kan lage utdrag.
Merk at dette også er mulig å gjøre gjennom <em>OpenRefine</em>, og ble gjennomgått i forrige kapittel. Men i de tilfeller der man oppdager at man trenger å gjøre det mens man jobber med et datasett i <em>Jupiter Notebooks</em>, kan det være raskere å gjennomføre slik behandling direkte ved bruke av <em>Pandas</em>. Men man står fritt til å også gå veien om <em>OpenRefine</em>, om man ønsker.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Title&#39;</span><span class="p">,</span> <span class="s1">&#39;Subjects&#39;</span><span class="p">]</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="n">df_oda</span><span class="p">[</span><span class="n">cols</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Title</th>
      <th>Subjects</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>«Risikofaktorer og komplikasjoner knyttet til ...</td>
      <td>Peripherally inserted central catheter|Infeksj...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>Barneanestesi|tvang|Anestesisykepleie</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Oksykodon versus fentanyl – hvilket opioid adm...</td>
      <td>Laparoskopisk kirurgi|Fentanyl|Oksykodon|Posto...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Kartlegging og evaluering av standardisert sme...</td>
      <td>Ryggfiksasjon|Ryggkirurgi|Anestesi|Postoperati...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Anestesisykepleierens funksjon ved innleggelse...</td>
      <td>Perifert venekateter|Ressurdsforvaltning|Tidsf...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>I cellen nedenfor <!--På figur  ~\vref{pandas-oda-split} --> brukes <code class="docutils literal notranslate"><span class="pre">.str.split()</span></code>-metoden for å dele
opp kolonnen basert på et gitt skilletegn. Hver verdi legges så i sin egen kolonne.
Det første emnet legges i kolonnen <em>0</em>, den neste i <em>1</em>, osv. Nederst ser vi at antallet
kolonner er 24, dvs masteroppgaven med flest emner hadde 24 emner. Vi ser at masteroppgaven
med indeks <em>1</em>, andre rad, har kun tre emner. Alle andre kolonner (for eksempel
3-24 for oppgaven med index <em>1</em>) får tilordnet spesialverdien <em>None</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df_oda_splitted</span> <span class="o">=</span> <span class="n">df_oda</span><span class="p">[</span><span class="s1">&#39;Subjects&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;|&#39;</span><span class="p">,</span> <span class="n">expand</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="n">df_oda_splitted</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
      <th>9</th>
      <th>...</th>
      <th>14</th>
      <th>15</th>
      <th>16</th>
      <th>17</th>
      <th>18</th>
      <th>19</th>
      <th>20</th>
      <th>21</th>
      <th>22</th>
      <th>23</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Peripherally inserted central catheter</td>
      <td>Infeksjon</td>
      <td>Tromboflebitt</td>
      <td>Trombose</td>
      <td>Okklusjon</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Barneanestesi</td>
      <td>tvang</td>
      <td>Anestesisykepleie</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Laparoskopisk kirurgi</td>
      <td>Fentanyl</td>
      <td>Oksykodon</td>
      <td>Postoperative smerter</td>
      <td>Postoperativ kvalme</td>
      <td>Laparoscopic surgery</td>
      <td>Oxycodone</td>
      <td>Postoperative pains</td>
      <td>Postoperative nausea</td>
      <td>None</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Ryggfiksasjon</td>
      <td>Ryggkirurgi</td>
      <td>Anestesi</td>
      <td>Postoperativ smerte</td>
      <td>Multimodal smertelindring</td>
      <td>Standardisert smertelindring</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Perifert venekateter</td>
      <td>Ressurdsforvaltning</td>
      <td>Tidsforvaltning</td>
      <td>Kostnader</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 24 columns</p>
</div></div></div>
</div>
<p>Hvis vi ønsker å legge dette til i den opprinnelige dataframen kan vi gjøre følgende:
I neste celle <!-- figur  ~\vref{pandas-oda-merged} -->, ser vi et eksempel på hvordan
<em>Pandas</em>-funksjonen <code class="docutils literal notranslate"><span class="pre">.concat()</span></code> kan brukes for å sammenføye den nye <code class="docutils literal notranslate"><span class="pre">df_splitted</span></code>
dataframen med den opprinnelige <code class="docutils literal notranslate"><span class="pre">df</span></code> dataframe. Parameteren til <code class="docutils literal notranslate"><span class="pre">.concat()</span></code> er
en liste av dataframes som skal settes sammen. Den andre parameteren, <em>axis</em>,
bestemmer om de skal kombineres som rader (<code class="docutils literal notranslate"><span class="pre">axis</span> <span class="pre">=</span> <span class="pre">0</span></code>, altså, nedover) eller som
kolonner (<code class="docutils literal notranslate"><span class="pre">axis</span> <span class="pre">=</span> <span class="pre">1</span></code>, altså bortover). Her vil vi legge inn flere kolonner,
altså bortover. Den nye dataframen, <code class="docutils literal notranslate"><span class="pre">df_merged</span></code>, har både de opprinnelig kolonnene,
f.eks. <em>Title</em> og kolonner fra de oppdelte emner, f.eks. <em>0</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df_oda_merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df_oda</span><span class="p">,</span> <span class="n">df_oda_splitted</span><span class="p">],</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Title&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="linenos">4</span>
<span class="linenos">5</span><span class="n">df_oda_merged</span><span class="p">[</span><span class="n">cols</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Title</th>
      <th>0</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>«Risikofaktorer og komplikasjoner knyttet til ...</td>
      <td>Peripherally inserted central catheter</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>Barneanestesi</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Oksykodon versus fentanyl – hvilket opioid adm...</td>
      <td>Laparoskopisk kirurgi</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Kartlegging og evaluering av standardisert sme...</td>
      <td>Ryggfiksasjon</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Anestesisykepleierens funksjon ved innleggelse...</td>
      <td>Perifert venekateter</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Neste trinn er bruk av <code class="docutils literal notranslate"><span class="pre">.melt()</span></code>-metoden. <code class="docutils literal notranslate"><span class="pre">.melt()</span></code> gjør om alle emne-kolonnene til
en enkelt kolonne, ved å gjenta øvrige data i radene nedover. Metoden tar to
lister med kolonner som parametre. <code class="docutils literal notranslate"><span class="pre">id_vars</span></code> er kolonnene som skal gjentas for
hver rad, mens <code class="docutils literal notranslate"><span class="pre">value_vars</span></code> er kolonnene som skal sammensmeltes til èn. I
vårt eksempel er listen <code class="docutils literal notranslate"><span class="pre">value_vars</span></code> en sekvens med tall fra 0 til 23. <em>Python</em>-funksjonen <em>range()</em> kan brukes for å generere tallrekken. I vårt tilfelle
ville <code class="docutils literal notranslate"><span class="pre">.melt()</span></code> gjøre  det enkelt å finne alle dokumenter som har
(for eksempel) emneordet <em>Kosthold</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">id_vars</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Title&#39;</span><span class="p">,</span> <span class="s1">&#39;FacultyShort&#39;</span><span class="p">,</span> <span class="s1">&#39;InstituteShort&#39;</span><span class="p">]</span>
<span class="linenos">2</span><span class="n">value_vars</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">24</span><span class="p">))</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="n">df_oda_melted</span> <span class="o">=</span> <span class="n">df_oda_merged</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">id_vars</span> <span class="o">=</span> <span class="n">id_vars</span><span class="p">,</span>
<span class="linenos">5</span>                           <span class="n">value_vars</span> <span class="o">=</span> <span class="n">value_vars</span><span class="p">)</span>
<span class="linenos">6</span>
<span class="linenos">7</span><span class="n">df_oda_melted</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s1">&#39;Title&#39;</span><span class="p">,</span> <span class="s1">&#39;variable&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Title</th>
      <th>FacultyShort</th>
      <th>InstituteShort</th>
      <th>variable</th>
      <th>value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>583</th>
      <td>"... Grete Roede kurs, liksom. Hallo? Kjerring...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>0</td>
      <td>Slanking</td>
    </tr>
    <tr>
      <th>3732</th>
      <td>"... Grete Roede kurs, liksom. Hallo? Kjerring...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>1</td>
      <td>Menn</td>
    </tr>
    <tr>
      <th>6881</th>
      <td>"... Grete Roede kurs, liksom. Hallo? Kjerring...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>2</td>
      <td>Kosthold</td>
    </tr>
    <tr>
      <th>10030</th>
      <td>"... Grete Roede kurs, liksom. Hallo? Kjerring...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>3</td>
      <td>Livsstil</td>
    </tr>
    <tr>
      <th>13179</th>
      <td>"... Grete Roede kurs, liksom. Hallo? Kjerring...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>4</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">value_vars</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="n">value_vars</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
</pre></div>
</div>
</div>
</div>
<p>Resultatet av <code class="docutils literal notranslate"><span class="pre">.melt()</span></code>-metoden plasserer emneordene i en kolonne som får
navnet <code class="docutils literal notranslate"><span class="pre">value</span></code>. Kolonnen <code class="docutils literal notranslate"><span class="pre">variable</span></code> er det opprinnelige kolonnenavnet, dvs. 0,
1, osv. I eksemplet under ser mann en enkelt tittel som har tre emner, de øvrige
21 radene (3, 4, … 23) er lagt inn med <em>None</em>. Bruken av <code class="docutils literal notranslate"><span class="pre">.melt()</span></code> legger dermed
mange rader uten ny informasjon (se de siste to radene   <!--på 
figur  ~\vref{pandas-oda-melt-filter} -->).</p>
<!-- Endre eksempel? --><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">filter1</span> <span class="o">=</span> <span class="n">df_oda_melted</span><span class="p">[</span><span class="s1">&#39;Title&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;Når barnet ikke vil&#39;</span><span class="p">)</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="n">df_oda_melted</span><span class="p">[</span><span class="n">filter1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Title</th>
      <th>FacultyShort</th>
      <th>InstituteShort</th>
      <th>variable</th>
      <th>value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>0</td>
      <td>Barneanestesi</td>
    </tr>
    <tr>
      <th>3150</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>1</td>
      <td>tvang</td>
    </tr>
    <tr>
      <th>6299</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>2</td>
      <td>Anestesisykepleie</td>
    </tr>
    <tr>
      <th>9448</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>3</td>
      <td>None</td>
    </tr>
    <tr>
      <th>12597</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>4</td>
      <td>None</td>
    </tr>
    <tr>
      <th>15746</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>5</td>
      <td>None</td>
    </tr>
    <tr>
      <th>18895</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>6</td>
      <td>None</td>
    </tr>
    <tr>
      <th>22044</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>7</td>
      <td>None</td>
    </tr>
    <tr>
      <th>25193</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>8</td>
      <td>None</td>
    </tr>
    <tr>
      <th>28342</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>9</td>
      <td>None</td>
    </tr>
    <tr>
      <th>31491</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>10</td>
      <td>None</td>
    </tr>
    <tr>
      <th>34640</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>11</td>
      <td>None</td>
    </tr>
    <tr>
      <th>37789</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>12</td>
      <td>None</td>
    </tr>
    <tr>
      <th>40938</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>13</td>
      <td>None</td>
    </tr>
    <tr>
      <th>44087</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>14</td>
      <td>None</td>
    </tr>
    <tr>
      <th>47236</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>15</td>
      <td>None</td>
    </tr>
    <tr>
      <th>50385</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>16</td>
      <td>None</td>
    </tr>
    <tr>
      <th>53534</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>17</td>
      <td>None</td>
    </tr>
    <tr>
      <th>56683</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>18</td>
      <td>None</td>
    </tr>
    <tr>
      <th>59832</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>19</td>
      <td>None</td>
    </tr>
    <tr>
      <th>62981</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>20</td>
      <td>None</td>
    </tr>
    <tr>
      <th>66130</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>21</td>
      <td>None</td>
    </tr>
    <tr>
      <th>69279</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>22</td>
      <td>None</td>
    </tr>
    <tr>
      <th>72428</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>23</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Antallet rader blir antall rader
i utgangspunktet (<code class="docutils literal notranslate"><span class="pre">df</span></code>,  3149) ganget med antallet kolonner med gjentatte emner,
som var 24 (0 til 23). Resultatet er 75 576. Vi kan sjekke dette med å bruke
<code class="docutils literal notranslate"><span class="pre">.shape</span></code>-attribut på de dataframes som er brukt. <!--(
figur  ~\vref{pandas-oda-melt-shape} )--></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Dataframe df:&#39;</span><span class="p">,</span> <span class="n">df_oda</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="linenos">2</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Dataframe splitted:&#39;</span><span class="p">,</span> <span class="n">df_oda_splitted</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="linenos">3</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Dataframe merged:&#39;</span><span class="p">,</span> <span class="n">df_oda_merged</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="linenos">4</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Dataframe melted:&#39;</span><span class="p">,</span> <span class="n">df_oda_melted</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Dataframe df: (3149, 15)
Dataframe splitted: (3149, 24)
Dataframe merged: (3149, 39)
Dataframe melted: (75576, 5)
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">.isna()</span></code>-metoden kan brukes for å avgrense dataframe til rader der verdier
mangler. Det motsatte er (og stort sett mer nyttig) er <code class="docutils literal notranslate"><span class="pre">.notna()</span></code> som avgrenser
til rader som har et verdi. Under anvendes
<code class="docutils literal notranslate"><span class="pre">.notna()</span></code> på “value”-kolonnen for å fjerne de overflødige radene med tomme emner,
noe som reduserer antallet rader i dataframen fra 75.576 til 16.769.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df_oda_melted</span> <span class="o">=</span> <span class="n">df_oda_melted</span><span class="p">[</span><span class="n">df_oda_melted</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notna</span><span class="p">()]</span>
</pre></div>
</div>
</div>
</div>
<p>Her sjekkes kolonnen <em>value</em> for tomme verdier. Dette reduserer dataframe
fra 75.576 til 16.769 rader.</p>
<p>For å rydde opp i dataframe fjerner vi <em>variable</em>-kolonnen og omdøper
<em>value</em>-kolonnen til <em>Subject</em>. <code class="docutils literal notranslate"><span class="pre">.drop()</span></code>-metoden brukes til å fjerne kolonner.
En liste over kolonnene legges til som parameter. Igjen brukes parameteren <code class="docutils literal notranslate"><span class="pre">inplace</span></code>
for å utføre oppdateringen på dataframe som dermed forandres</p>
<!--(figur  ~\vref{pandas-oda-drop-rename} )-->.<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">df_oda_melted</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;variable&#39;</span><span class="p">],</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="n">col_map</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">4</span>  <span class="s1">&#39;value&#39;</span> <span class="p">:</span> <span class="s1">&#39;Subject&#39;</span>
<span class="linenos">5</span><span class="p">}</span>
<span class="linenos">6</span>
<span class="linenos">7</span><span class="n">df_oda_melted</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="n">col_map</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="linenos">8</span>
<span class="linenos">9</span><span class="n">df_oda_melted</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Title</th>
      <th>FacultyShort</th>
      <th>InstituteShort</th>
      <th>Subject</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>«Risikofaktorer og komplikasjoner knyttet til ...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>Peripherally inserted central catheter</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Når barnet ikke vil. En kvalitativ masteroppga...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>Barneanestesi</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Oksykodon versus fentanyl – hvilket opioid adm...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>Laparoskopisk kirurgi</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Kartlegging og evaluering av standardisert sme...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>Ryggfiksasjon</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Anestesisykepleierens funksjon ved innleggelse...</td>
      <td>HV</td>
      <td>SHA</td>
      <td>Perifert venekateter</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Emnene er nå klare for analyse. I cellen nedenfor <!-- ~\vref{pandas-oda-abi-subjects} -->
finner vi er de mest populære emnene for masteroppgaver skrevet ved institutt ABI.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">filter1</span> <span class="o">=</span> <span class="n">df_oda_melted</span><span class="p">[</span><span class="s1">&#39;InstituteShort&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;ABI&#39;</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="n">df_oda_melted</span><span class="p">[</span><span class="n">filter1</span><span class="p">][</span><span class="s1">&#39;Subject&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Bibliotek             16
Folkebibliotek        14
Møteplasser            7
Bibliotekarer          5
Bibliotektjenester     5
Litteratur             5
Informasjonsbehov      4
Informasjonsadferd     4
Norge                  4
Holdninger             4
Name: Subject, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>I neste kapittel skal vi jobbe videre med CSV-filene ved å gjøre om mønstre til visualiseringer i form av grafer.</p>
<hr class="footnotes docutils" id="my-label" />
<aside class="footnote brackets" id="pandas-data-norge-norge-rundt" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://data.norge.no/datasets/08fb719b-d563-44ac-97e1-f630ba92c507">https://data.norge.no/datasets/08fb719b-d563-44ac-97e1-f630ba92c507</a></p>
</aside>
<aside class="footnote brackets" id="pandas-projeksjon" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p>Dette kalles på dataspråket en “projeksjon”.</p>
</aside>
<aside class="footnote brackets" id="pandas-boolsk" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">3</a><span class="fn-bracket">]</span></span>
<p>en OG kombinasjon stemmer når begge betingelser som kombineres stemmer samtidig ELLER-kombinasjonen stemmer når minst en av betingelsene stemmer.</p>
</aside>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="kapittel7.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">7. Vasking av data med OpenRefine</p>
      </div>
    </a>
    <a class="right-next"
       href="kapittel9.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">9. Visualisering med Plotly</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduksjon-til-pandas-og-dataframes">Introduksjon til Pandas og DataFrames</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grunnleggende-informasjon-om-en-dataframe">Grunnleggende informasjon om en dataframe</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datatype">Datatype</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#omfang-kompleksitet">Omfang/kompleksitet</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#kolonner-variabler">Kolonner (“variabler”)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#radene-enhetene">Radene (“enhetene”)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#utdrag-av-en-dataframe">Utdrag av en dataframe</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#utdrag-av-kolonnene">Utdrag av kolonnene</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#utdrag-av-radene-filtrering">Utdrag av radene (filtrering)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#endre-navn-pa-en-kolonne">Endre navn på en kolonne</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#eksportere-til-en-ny-csv-fil">Eksportere til en ny CSV-fil</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#flere-datatyper-i-pandas">Flere datatyper i Pandas</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#series">Series</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#index">Index</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analyse-av-kolonner-med-tall">Analyse av kolonner med tall</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analyse-av-kolonner-med-tekst">Analyse av kolonner med tekst</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#gruppering">Gruppering</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#behandling-av-kolonner-som-inneholder-flere-verdier">Behandling av kolonner som inneholder flere verdier</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Massey, Preminger & Soelseth
</p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <p>
Denne interaktive l&aelig;reboka er lisensiert gjennom <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons BY-NC-SA 4.0 License.</a>.
</p>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=ac02cc09edc035673794"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>